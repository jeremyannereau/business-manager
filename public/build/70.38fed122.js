/*! For license information please see 70.38fed122.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[70],{8199(e,r,t){t.d(r,{A:()=>b});t(2675),t(9463),t(2259),t(6280),t(6918),t(3418),t(4346),t(3792),t(4782),t(3288),t(2010),t(6099),t(7495),t(906),t(8781),t(7764),t(2953);var n=t(1425);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return a(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var i={class:"auth-container"},l={class:"auth-card"},c={key:0,class:"alert alert-error"},s={class:"form-group"},u={class:"form-group"},d={class:"form-group-checkbox"},m={class:"checkbox-label"};t(4170),t(9904),t(4185),t(875),t(287),t(3362);function f(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,n,o,a){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return p(s,"_invoke",function(t,n,o){var a,l,c,s=0,u=o||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(r,t){return a=r,l=0,c=e,m.n=t,i}};function f(t,n){for(l=t,c=n,r=0;!d&&s&&!o&&r<u.length;r++){var o,a=u[r],f=m.p,p=a[2];t>3?(o=p===n)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=t<2&&f<a[1])?(l=0,m.v=n,m.n=a[1]):f<p&&(o=t<3||a[0]>n||n>p)&&(a[4]=t,a[5]=n,m.n=p,l=0))}if(o||t>1)return i;throw d=!0,n}return function(o,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(r=l<2?e:c)||!d;){a||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,a){if(l||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,l<2&&(l=0)}else 1===l&&(r=a.return)&&r.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((r=(d=m.n<0)?c:t.call(n,m))!==i)break}catch(r){a=e,l=1,c=r}finally{s=1}}return{value:r,done:d}}}(t,o,a),!0),s}var i={};function l(){}function c(){}function s(){}r=Object.getPrototypeOf;var u=[][n]?r(r([][n]())):(p(r={},n,function(){return this}),r),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,p(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,p(d,"constructor",s),p(s,"constructor",c),c.displayName="GeneratorFunction",p(s,o,"GeneratorFunction"),p(d),p(d,o,"Generator"),p(d,n,function(){return this}),p(d,"toString",function(){return"[object Generator]"}),(f=function(){return{w:a,m}})()}function p(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}p=function(e,r,t,n){function a(r,t){p(e,r,function(e){return this._invoke(r,t,e)})}r?o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(a("next",0),a("throw",1),a("return",2))},p(e,r,t,n)}function v(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void t(e)}l.done?r(c):Promise.resolve(c).then(n,o)}const h={name:"Login",data:function(){return{form:{email:"",password:"",rememberMe:!1},loading:!1,error:null}},methods:{handleLogin:function(){var e,r=this;return(e=f().m(function e(){var t,n,o,a;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return r.loading=!0,r.error=null,e.p=1,t=document.getElementById("auth-app").getAttribute("data-csrf-token"),(n=new FormData).append("_username",r.form.email),n.append("_password",r.form.password),n.append("_csrf_token",t),r.form.rememberMe&&n.append("_remember_me","on"),e.n=2,fetch("/login",{method:"POST",body:n,redirect:"manual"});case 2:if("opaqueredirect"!==(o=e.v).type&&0!==o.status){e.n=3;break}return window.location.href="/",e.a(2);case 3:if(!o.ok){e.n=4;break}return window.location.href="/",e.a(2);case 4:r.error="Email ou mot de passe incorrect",e.n=6;break;case 5:e.p=5,a=e.v,console.error("Erreur de connexion:",a),r.error="Une erreur est survenue. Veuillez rÃ©essayer.";case 6:return e.p=6,r.loading=!1,e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}),function(){var r=this,t=arguments;return new Promise(function(n,o){var a=e.apply(r,t);function i(e){v(a,n,o,i,l,"next",e)}function l(e){v(a,n,o,i,l,"throw",e)}i(void 0)})})()}}};const y=(0,t(6262).A)(h,[["render",function(e,r,t,a,f,p){var v=(0,n.resolveComponent)("Button");return(0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.createElementVNode)("div",l,[r[8]||(r[8]=(0,n.createElementVNode)("div",{class:"auth-header"},[(0,n.createElementVNode)("h1",null,"ðŸ‘‹ Connexion"),(0,n.createElementVNode)("p",null,"Connectez-vous Ã  votre compte")],-1)),(0,n.createElementVNode)("form",{onSubmit:r[3]||(r[3]=(0,n.withModifiers)(function(){return p.handleLogin&&p.handleLogin.apply(p,arguments)},["prevent"])),class:"auth-form"},[f.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",c,(0,n.toDisplayString)(f.error),1)):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",s,[r[4]||(r[4]=(0,n.createElementVNode)("label",{class:"form-label"},"Email",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return f.form.email=e}),type:"email",class:"form-input",placeholder:"votre@email.com",required:"",autofocus:""},null,512),[[n.vModelText,f.form.email]])]),(0,n.createElementVNode)("div",u,[r[5]||(r[5]=(0,n.createElementVNode)("label",{class:"form-label"},"Mot de passe",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(e){return f.form.password=e}),type:"password",class:"form-input",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:""},null,512),[[n.vModelText,f.form.password]])]),(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("label",m,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[2]||(r[2]=function(e){return f.form.rememberMe=e}),type:"checkbox"},null,512),[[n.vModelCheckbox,f.form.rememberMe]]),r[6]||(r[6]=(0,n.createElementVNode)("span",null,"Se souvenir de moi",-1))])]),(0,n.createVNode)(v,{type:"submit",size:"lg",loading:f.loading,style:{width:"100%"}},{default:(0,n.withCtx)(function(){return o(r[7]||(r[7]=[(0,n.createTextVNode)(" Se connecter ",-1)]))}),_:1},8,["loading"])],32),r[9]||(r[9]=(0,n.createElementVNode)("div",{class:"auth-footer"},[(0,n.createElementVNode)("p",null,[(0,n.createTextVNode)("Pas encore de compte ? "),(0,n.createElementVNode)("a",{href:"/register",class:"link"},"CrÃ©er un compte")])],-1))])])}],["__scopeId","data-v-59bf4c84"]]),b=y},8463(e,r,t){t.d(r,{A:()=>N});t(2675),t(9463),t(2259),t(6280),t(6918),t(3418),t(4346),t(3792),t(4782),t(3288),t(2010),t(6099),t(7495),t(906),t(8781),t(7764),t(2953);var n=t(1425);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return a(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var i={class:"auth-container"},l={class:"auth-card"},c={key:0,class:"alert alert-error"},s={key:1,class:"alert alert-success"},u={class:"form-row"},d={class:"form-group"},m={class:"form-group"},f={class:"form-group"},p={class:"form-group"},v={class:"form-group"},h={class:"form-group-checkbox"},y={class:"checkbox-label"};t(739),t(4170),t(3110),t(9904),t(4185),t(875),t(287),t(3362),t(6031);function b(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,n,o,a){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return g(s,"_invoke",function(t,n,o){var a,l,c,s=0,u=o||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(r,t){return a=r,l=0,c=e,m.n=t,i}};function f(t,n){for(l=t,c=n,r=0;!d&&s&&!o&&r<u.length;r++){var o,a=u[r],f=m.p,p=a[2];t>3?(o=p===n)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=t<2&&f<a[1])?(l=0,m.v=n,m.n=a[1]):f<p&&(o=t<3||a[0]>n||n>p)&&(a[4]=t,a[5]=n,m.n=p,l=0))}if(o||t>1)return i;throw d=!0,n}return function(o,u,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),l=u,c=p;(r=l<2?e:c)||!d;){a||(l?l<3?(l>1&&(m.n=-1),f(l,c)):m.n=c:m.v=c);try{if(s=2,a){if(l||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,l<2&&(l=0)}else 1===l&&(r=a.return)&&r.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((r=(d=m.n<0)?c:t.call(n,m))!==i)break}catch(r){a=e,l=1,c=r}finally{s=1}}return{value:r,done:d}}}(t,o,a),!0),s}var i={};function l(){}function c(){}function s(){}r=Object.getPrototypeOf;var u=[][n]?r(r([][n]())):(g(r={},n,function(){return this}),r),d=s.prototype=l.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,g(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,g(d,"constructor",s),g(s,"constructor",c),c.displayName="GeneratorFunction",g(s,o,"GeneratorFunction"),g(d),g(d,o,"Generator"),g(d,n,function(){return this}),g(d,"toString",function(){return"[object Generator]"}),(b=function(){return{w:a,m}})()}function g(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}g=function(e,r,t,n){function a(r,t){g(e,r,function(e){return this._invoke(r,t,e)})}r?o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(a("next",0),a("throw",1),a("return",2))},g(e,r,t,n)}function w(e,r,t,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void t(e)}l.done?r(c):Promise.resolve(c).then(n,o)}const V={name:"Register",data:function(){return{form:{email:"",nom:"",prenom:"",password:"",passwordConfirm:"",agreeTerms:!1},loading:!1,error:null,success:null}},computed:{isFormValid:function(){return this.form.email&&this.form.nom&&this.form.prenom&&this.form.password.length>=6&&this.form.password===this.form.passwordConfirm&&this.form.agreeTerms}},methods:{handleRegister:function(){var e,r=this;return(e=b().m(function e(){var t,n,o;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r.loading=!0,r.error=null,r.success=null,r.form.password===r.form.passwordConfirm){e.n=1;break}return r.error="Les mots de passe ne correspondent pas",r.loading=!1,e.a(2);case 1:return e.p=1,e.n=2,fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.form.email,nom:r.form.nom,prenom:r.form.prenom,password:r.form.password})});case 2:return t=e.v,e.n=3,t.json();case 3:n=e.v,t.ok&&n.success?(r.success="Compte crÃ©Ã© avec succÃ¨s ! Redirection vers la connexion...",setTimeout(function(){window.location.href="/login"},1500)):r.error=n.error||"Une erreur est survenue lors de l'inscription",e.n=5;break;case 4:e.p=4,o=e.v,console.error("Erreur d'inscription:",o),r.error="Une erreur est survenue. Veuillez rÃ©essayer.";case 5:return e.p=5,r.loading=!1,e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}),function(){var r=this,t=arguments;return new Promise(function(n,o){var a=e.apply(r,t);function i(e){w(a,n,o,i,l,"next",e)}function l(e){w(a,n,o,i,l,"throw",e)}i(void 0)})})()}}};const E=(0,t(6262).A)(V,[["render",function(e,r,t,a,b,g){var w=(0,n.resolveComponent)("Button");return(0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.createElementVNode)("div",l,[r[15]||(r[15]=(0,n.createElementVNode)("div",{class:"auth-header"},[(0,n.createElementVNode)("h1",null,"âœ¨ CrÃ©er un compte"),(0,n.createElementVNode)("p",null,"Rejoignez Business Manager")],-1)),(0,n.createElementVNode)("form",{onSubmit:r[6]||(r[6]=(0,n.withModifiers)(function(){return g.handleRegister&&g.handleRegister.apply(g,arguments)},["prevent"])),class:"auth-form"},[b.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",c,(0,n.toDisplayString)(b.error),1)):(0,n.createCommentVNode)("v-if",!0),b.success?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,(0,n.toDisplayString)(b.success),1)):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("div",d,[r[7]||(r[7]=(0,n.createElementVNode)("label",{class:"form-label"},"PrÃ©nom",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return b.form.prenom=e}),type:"text",class:"form-input",placeholder:"Jean",required:"",autofocus:""},null,512),[[n.vModelText,b.form.prenom]])]),(0,n.createElementVNode)("div",m,[r[8]||(r[8]=(0,n.createElementVNode)("label",{class:"form-label"},"Nom",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(e){return b.form.nom=e}),type:"text",class:"form-input",placeholder:"Dupont",required:""},null,512),[[n.vModelText,b.form.nom]])])]),(0,n.createElementVNode)("div",f,[r[9]||(r[9]=(0,n.createElementVNode)("label",{class:"form-label"},"Email",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[2]||(r[2]=function(e){return b.form.email=e}),type:"email",class:"form-input",placeholder:"jean.dupont@email.com",required:""},null,512),[[n.vModelText,b.form.email]])]),(0,n.createElementVNode)("div",p,[r[10]||(r[10]=(0,n.createElementVNode)("label",{class:"form-label"},"Mot de passe",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[3]||(r[3]=function(e){return b.form.password=e}),type:"password",class:"form-input",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:"",minlength:"6"},null,512),[[n.vModelText,b.form.password]]),r[11]||(r[11]=(0,n.createElementVNode)("span",{class:"form-hint"},"Minimum 6 caractÃ¨res",-1))]),(0,n.createElementVNode)("div",v,[r[12]||(r[12]=(0,n.createElementVNode)("label",{class:"form-label"},"Confirmer le mot de passe",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[4]||(r[4]=function(e){return b.form.passwordConfirm=e}),type:"password",class:"form-input",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:""},null,512),[[n.vModelText,b.form.passwordConfirm]])]),(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("label",y,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":r[5]||(r[5]=function(e){return b.form.agreeTerms=e}),type:"checkbox",required:""},null,512),[[n.vModelCheckbox,b.form.agreeTerms]]),r[13]||(r[13]=(0,n.createElementVNode)("span",null,"J'accepte les conditions d'utilisation",-1))])]),(0,n.createVNode)(w,{type:"submit",size:"lg",loading:b.loading,disabled:!g.isFormValid,style:{width:"100%"}},{default:(0,n.withCtx)(function(){return o(r[14]||(r[14]=[(0,n.createTextVNode)(" CrÃ©er mon compte ",-1)]))}),_:1},8,["loading","disabled"])],32),r[16]||(r[16]=(0,n.createElementVNode)("div",{class:"auth-footer"},[(0,n.createElementVNode)("p",null,[(0,n.createTextVNode)("DÃ©jÃ  un compte ? "),(0,n.createElementVNode)("a",{href:"/login",class:"link"},"Se connecter")])],-1))])])}],["__scopeId","data-v-0de270d1"]]),N=E},4614(e,r,t){t.d(r,{A:()=>l});var n=t(1425),o=["disabled"],a={key:0,class:"spinner"};t(4423);const i={name:"Button",props:{variant:{type:String,default:"primary",validator:function(e){return["primary","secondary","success","danger","ghost"].includes(e)}},size:{type:String,default:"md",validator:function(e){return["sm","md","lg"].includes(e)}},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{buttonClasses:function(){return["btn","btn-".concat(this.variant),"btn-".concat(this.size),{"btn-disabled":this.disabled||this.loading}]}}};const l=(0,t(6262).A)(i,[["render",function(e,r,t,i,l,c){return(0,n.openBlock)(),(0,n.createElementBlock)("button",{class:(0,n.normalizeClass)(c.buttonClasses),disabled:t.disabled||t.loading,onClick:r[0]||(r[0]=function(r){return e.$emit("click",r)})},[t.loading?((0,n.openBlock)(),(0,n.createElementBlock)("span",a)):(0,n.renderSlot)(e.$slots,"default",{key:1},void 0,!0)],10,o)}],["__scopeId","data-v-fde29770"]])}}]);