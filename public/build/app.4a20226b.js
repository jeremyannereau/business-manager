/*! For license information please see app.4a20226b.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{6073(e,t,n){var r=n(1425);n(2675),n(9463),n(2259),n(6280),n(6918),n(3418),n(4346),n(3792),n(4782),n(3288),n(2010),n(6099),n(7495),n(906),n(8781),n(7764),n(2953);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i={id:"app"},c={class:"app-header"},s={class:"header-container"},l={class:"header-nav"},u={class:"app-main"},d={key:0,class:"home-view"},m={class:"features-grid"},p={class:"home-stats"};function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h={class:"etapes-kanban"},g={class:"kanban-header"},y={class:"header-content"},V={class:"header-actions"},N={class:"filters-container"},E={class:"search-box"},b={class:"filters"},C={key:0,class:"active-filters"},w={class:"progress-header"},k={class:"progress-bar"},D={key:0,class:"progress-text"},S={class:"progress-stats"},B={class:"stat"},x={class:"stat-value"},T={class:"stat"},_={class:"stat-value"},A={class:"stat"},O={class:"stat-value"},P={class:"kanban-board"},M={class:"kanban-column"},j={class:"column-header todo-header"},L={class:"column-content"},F={class:"card-content"},I={class:"card-header-row"},z={class:"card-title"},U={key:0,class:"card-description"},G={class:"card-meta"},R={class:"card-actions"},$={key:0,class:"empty-state"},q={class:"kanban-column"},K={class:"column-header progress-header"},Q={class:"column-content"},W={class:"card-content"},H={class:"card-header-row"},J={class:"card-title"},Y={key:0,class:"card-description"},Z={class:"card-meta"},X={class:"card-actions"},ee={key:0,class:"empty-state"},te={class:"kanban-column"},ne={class:"column-header done-header"},re={class:"column-content"},ae={class:"card-content"},oe={class:"card-title"},ie={key:0,class:"card-description"},ce={class:"card-meta"},se={class:"card-actions"},le={key:0,class:"empty-state"},ue={class:"form-group"},de={class:"form-row"},me={class:"form-group"},pe={class:"form-group"},fe={class:"form-group"},ve={class:"form-row"},he={class:"form-group"},ge={class:"form-group"},ye={class:"form-group"};n(5700),n(2008),n(8980),n(1629),n(4423),n(4114),n(6910),n(1688),n(739),n(9572),n(4170),n(3110),n(2892),n(9904),n(7945),n(4185),n(3851),n(1278),n(875),n(9432),n(287),n(3362),n(1699),n(8992),n(4520),n(3949),n(3500);var Ve=n(432);function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach(function(t){Ce(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return ke(l,"_invoke",function(n,r,a){var o,c,s,l=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,s=e,m.n=n,i}};function p(n,r){for(c=n,s=r,t=0;!d&&l&&!a&&t<u.length;t++){var a,o=u[t],p=m.p,f=o[2];n>3?(a=f===r)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(c=0,m.v=r,m.n=o[1]):p<f&&(a=n<3||o[0]>r||r>f)&&(o[4]=n,o[5]=r,m.n=f,c=0))}if(a||n>1)return i;throw d=!0,r}return function(a,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,s=f;(t=c<2?e:s)||!d;){o||(c?c<3?(c>1&&(m.n=-1),p(c,s)):m.n=s:m.v=s);try{if(l=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(d=m.n<0)?s:n.call(r,m))!==i)break}catch(t){o=e,c=1,s=t}finally{l=1}}return{value:t,done:d}}}(n,a,o),!0),l}var i={};function c(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(ke(t={},r,function(){return this}),t),d=l.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,ke(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,ke(d,"constructor",l),ke(l,"constructor",s),s.displayName="GeneratorFunction",ke(l,a,"GeneratorFunction"),ke(d),ke(d,a,"Generator"),ke(d,r,function(){return this}),ke(d,"toString",function(){return"[object Generator]"}),(we=function(){return{w:o,m}})()}function ke(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}ke=function(e,t,n,r){function o(t,n){ke(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},ke(e,t,n,r)}function De(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Se(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){De(o,r,a,i,c,"next",e)}function c(e){De(o,r,a,i,c,"throw",e)}i(void 0)})}}function Be(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Te={name:"EtapesKanban",components:{draggable:n.n(Ve)()},data:function(){return{etapes:[],showAddModal:!1,editingEtape:null,saving:!1,searchQuery:"",sortBy:"ordre",filterPriority:"all",form:{titre:"",description:"",dateDebut:"",dateLimite:"",notes:"",statut:"todo",ordre:0,priority:"",category:""},todoList:[],inProgressList:[],doneList:[]}},computed:{filteredEtapes:function(){var e=this,t=Be(this.etapes);if(this.searchQuery){var n=this.searchQuery.toLowerCase();t=t.filter(function(e){return e.titre.toLowerCase().includes(n)||e.description&&e.description.toLowerCase().includes(n)||e.category&&e.category.toLowerCase().includes(n)})}return"all"!==this.filterPriority&&(t=t.filter(function(t){return t.priority===e.filterPriority})),"date-asc"===this.sortBy?t.sort(function(e,t){return(e.dateLimite?new Date(e.dateLimite):new Date("9999-12-31"))-(t.dateLimite?new Date(t.dateLimite):new Date("9999-12-31"))}):"date-desc"===this.sortBy?t.sort(function(e,t){var n=e.dateLimite?new Date(e.dateLimite):new Date("1900-01-01");return(t.dateLimite?new Date(t.dateLimite):new Date("1900-01-01"))-n}):"alpha"===this.sortBy?t.sort(function(e,t){return e.titre.localeCompare(t.titre)}):t.sort(function(e,t){return e.ordre-t.ordre}),t},filteredEtapesByStatut:function(){return{todo:this.filteredEtapes.filter(function(e){return"todo"===e.statut}),in_progress:this.filteredEtapes.filter(function(e){return"in_progress"===e.statut}),done:this.filteredEtapes.filter(function(e){return"done"===e.statut})}},progression:function(){if(0===this.etapes.length)return 0;var e=this.etapes.filter(function(e){return"done"===e.statut}).length;return Math.round(e/this.etapes.length*100)},progressVariant:function(){return 100===this.progression?"success":this.progression>=50?"warning":"info"}},watch:{filteredEtapesByStatut:{handler:function(e){this.todoList=Be(e.todo),this.inProgressList=Be(e.in_progress),this.doneList=Be(e.done)},deep:!0,immediate:!0}},mounted:function(){this.loadEtapes()},methods:{loadEtapes:function(){var e=this;return Se(we().m(function t(){var n,r;return we().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,fetch("/api/etapes");case 1:return n=t.v,t.n=2,n.json();case 2:e.etapes=t.v,t.n=4;break;case 3:t.p=3,r=t.v,console.error("Erreur chargement Ã©tapes:",r);case 4:return t.a(2)}},t,null,[[0,3]])}))()},saveEtape:function(){var e=this;return Se(we().m(function t(){var n,r,a;return we().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.saving=!0,t.p=1,n=e.editingEtape?"/api/etapes/".concat(e.editingEtape.id):"/api/etapes",r=e.editingEtape?"PUT":"POST",t.n=2,fetch(n,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(e.form)});case 2:return e.closeModal(),t.n=3,e.loadEtapes();case 3:t.n=5;break;case 4:t.p=4,a=t.v,console.error("Erreur sauvegarde:",a);case 5:return t.p=5,e.saving=!1,t.f(5);case 6:return t.a(2)}},t,null,[[1,4,5,6]])}))()},changeStatut:function(e,t){var n=this;return Se(we().m(function r(){var a;return we().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,fetch("/api/etapes/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(be(be({},e),{},{statut:t,dateDebut:"in_progress"!==t||e.dateDebut?e.dateDebut:(new Date).toISOString().split("T")[0]}))});case 1:return r.n=2,n.loadEtapes();case 2:r.n=4;break;case 3:r.p=3,a=r.v,console.error("Erreur changement statut:",a);case 4:return r.a(2)}},r,null,[[0,3]])}))()},deleteEtape:function(e){var t=this;return Se(we().m(function n(){var r;return we().w(function(n){for(;;)switch(n.p=n.n){case 0:if(confirm("Supprimer l'Ã©tape \"".concat(e.titre,'" ?'))){n.n=1;break}return n.a(2);case 1:return n.p=1,n.n=2,fetch("/api/etapes/".concat(e.id),{method:"DELETE"});case 2:return n.n=3,t.loadEtapes();case 3:n.n=5;break;case 4:n.p=4,r=n.v,console.error("Erreur suppression:",r);case 5:return n.a(2)}},n,null,[[1,4]])}))()},editEtape:function(e){this.editingEtape=e,this.form={titre:e.titre,description:e.description||"",dateDebut:e.dateDebut||"",dateLimite:e.dateLimite||"",notes:e.notes||"",statut:e.statut,ordre:e.ordre,priority:e.priority||"",category:e.category||""}},closeModal:function(){this.showAddModal=!1,this.editingEtape=null,this.saving=!1,this.form={titre:"",description:"",dateDebut:"",dateLimite:"",notes:"",statut:"todo",ordre:0,priority:"",category:""}},onDragUpdate:function(e){var t=this;return function(n){if(n.added){var r=n.added.element;r.statut!==e&&t.updateEtapeStatut(r,e)}}},updateEtapeStatut:function(e,t){var n=this;return Se(we().m(function r(){var a,o;return we().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,fetch("/api/etapes/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(be(be({},e),{},{statut:t,dateDebut:"in_progress"!==t||e.dateDebut?e.dateDebut:(new Date).toISOString().split("T")[0]}))});case 1:-1!==(a=n.etapes.findIndex(function(t){return t.id===e.id}))&&(n.etapes[a].statut=t),r.n=3;break;case 2:return r.p=2,o=r.v,console.error("Erreur changement statut:",o),r.n=3,n.loadEtapes();case 3:return r.a(2)}},r,null,[[0,2]])}))()},formatDate:function(e){return e?new Date(e).toLocaleDateString("fr-FR"):""},getPriorityIcon:function(e){return{urgent:"ðŸ”´",normal:"ðŸŸ¡",low:"ðŸŸ¢"}[e]||""},getPriorityVariant:function(e){return{urgent:"danger",normal:"warning",low:"success"}[e]||"gray"},getPriorityLabel:function(e){return{urgent:"ðŸ”´ Urgent",normal:"ðŸŸ¡ Normal",low:"ðŸŸ¢ Basse"}[e]||e},getDateVariant:function(e){if(!e)return"gray";var t=new Date,n=new Date(e),r=Math.ceil((n-t)/864e5);return r<0?"danger":r<=7?"warning":"gray"}}};var _e=n(6262);const Ae=(0,_e.A)(Te,[["render",function(e,t,n,a,o,i){var c=(0,r.resolveComponent)("Button"),s=(0,r.resolveComponent)("Badge"),l=(0,r.resolveComponent)("Card"),u=(0,r.resolveComponent)("draggable"),d=(0,r.resolveComponent)("Modal");return(0,r.openBlock)(),(0,r.createElementBlock)("div",h,[(0,r.createCommentVNode)(" Header modernisÃ© avec filtres "),(0,r.createElementVNode)("div",g,[(0,r.createElementVNode)("div",y,[t[22]||(t[22]=(0,r.createElementVNode)("div",{class:"header-title"},[(0,r.createElementVNode)("h2",null,"ðŸ“‹ Suivi des Ã‰tapes"),(0,r.createElementVNode)("p",{class:"subtitle"},"CrÃ©ation d'Entreprise - Mon Assistant NumÃ©rique")],-1)),(0,r.createElementVNode)("div",V,[(0,r.createVNode)(c,{onClick:t[0]||(t[0]=function(e){return o.showAddModal=!0}),size:"lg"},{default:(0,r.withCtx)(function(){return f(t[21]||(t[21]=[(0,r.createElementVNode)("span",{class:"icon"},"âœ¨",-1),(0,r.createTextVNode)(" Nouvelle Ã‰tape ",-1)]))}),_:1})])]),(0,r.createCommentVNode)(" Barre de recherche et filtres "),(0,r.createVNode)(l,{class:"filters-card"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",N,[(0,r.createElementVNode)("div",E,[t[23]||(t[23]=(0,r.createElementVNode)("span",{class:"search-icon"},"ðŸ”",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.searchQuery=e}),type:"text",placeholder:"Rechercher une Ã©tape...",class:"search-input"},null,512),[[r.vModelText,o.searchQuery]]),o.searchQuery?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:t[2]||(t[2]=function(e){return o.searchQuery=""}),class:"clear-search"},"âœ•")):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createElementVNode)("div",b,[(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.sortBy=e}),class:"filter-select"},f(t[24]||(t[24]=[(0,r.createElementVNode)("option",{value:"ordre"},"ðŸ“Š Ordre",-1),(0,r.createElementVNode)("option",{value:"date-asc"},"ðŸ“… Date (plus ancienne)",-1),(0,r.createElementVNode)("option",{value:"date-desc"},"ðŸ“… Date (plus rÃ©cente)",-1),(0,r.createElementVNode)("option",{value:"alpha"},"ðŸ”¤ AlphabÃ©tique",-1)])),512),[[r.vModelSelect,o.sortBy]]),(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.filterPriority=e}),class:"filter-select"},f(t[25]||(t[25]=[(0,r.createElementVNode)("option",{value:"all"},"Toutes prioritÃ©s",-1),(0,r.createElementVNode)("option",{value:"urgent"},"ðŸ”´ Urgent",-1),(0,r.createElementVNode)("option",{value:"normal"},"ðŸŸ¡ Normal",-1),(0,r.createElementVNode)("option",{value:"low"},"ðŸŸ¢ Basse",-1)])),512),[[r.vModelSelect,o.filterPriority]])])]),o.searchQuery||"all"!==o.filterPriority?((0,r.openBlock)(),(0,r.createElementBlock)("div",C,[t[26]||(t[26]=(0,r.createElementVNode)("span",{class:"filter-label"},"Filtres actifs :",-1)),o.searchQuery?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,variant:"info",onClick:t[5]||(t[5]=function(e){return o.searchQuery=""})},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)(' ðŸ” "'+(0,r.toDisplayString)(o.searchQuery)+'" âœ• ',1)]}),_:1})):(0,r.createCommentVNode)("v-if",!0),"all"!==o.filterPriority?((0,r.openBlock)(),(0,r.createBlock)(s,{key:1,variant:"warning",onClick:t[6]||(t[6]=function(e){return o.filterPriority="all"})},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.getPriorityLabel(o.filterPriority))+" âœ• ",1)]}),_:1})):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0)]}),_:1}),(0,r.createCommentVNode)(" Barre de progression modernisÃ©e "),(0,r.createVNode)(l,{class:"progress-card"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",w,[t[27]||(t[27]=(0,r.createElementVNode)("span",{class:"progress-label"},"Progression globale",-1)),(0,r.createVNode)(s,{variant:i.progressVariant,size:"lg",pill:""},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.progression)+"%",1)]}),_:1},8,["variant"])]),(0,r.createElementVNode)("div",k,[(0,r.createElementVNode)("div",{class:"progress-fill",style:(0,r.normalizeStyle)({width:i.progression+"%"})},[i.progression>10?((0,r.openBlock)(),(0,r.createElementBlock)("span",D,(0,r.toDisplayString)(i.progression)+"%",1)):(0,r.createCommentVNode)("v-if",!0)],4)]),(0,r.createElementVNode)("div",S,[(0,r.createElementVNode)("div",B,[(0,r.createElementVNode)("span",x,(0,r.toDisplayString)(i.filteredEtapesByStatut.done.length),1),t[28]||(t[28]=(0,r.createElementVNode)("span",{class:"stat-label"},"TerminÃ©es",-1))]),(0,r.createElementVNode)("div",T,[(0,r.createElementVNode)("span",_,(0,r.toDisplayString)(i.filteredEtapesByStatut.in_progress.length),1),t[29]||(t[29]=(0,r.createElementVNode)("span",{class:"stat-label"},"En cours",-1))]),(0,r.createElementVNode)("div",A,[(0,r.createElementVNode)("span",O,(0,r.toDisplayString)(i.filteredEtapesByStatut.todo.length),1),t[30]||(t[30]=(0,r.createElementVNode)("span",{class:"stat-label"},"Ã€ faire",-1))])])]}),_:1})]),(0,r.createCommentVNode)(" Board Kanban avec Drag & Drop "),(0,r.createElementVNode)("div",P,[(0,r.createCommentVNode)(" Colonne Ã€ FAIRE "),(0,r.createElementVNode)("div",M,[(0,r.createElementVNode)("div",j,[t[31]||(t[31]=(0,r.createElementVNode)("div",{class:"column-title"},[(0,r.createElementVNode)("span",{class:"column-icon"},"ðŸ“"),(0,r.createElementVNode)("h3",null,"Ã€ Faire")],-1)),(0,r.createVNode)(s,{variant:"gray",pill:""},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.filteredEtapesByStatut.todo.length),1)]}),_:1})]),(0,r.createElementVNode)("div",L,[(0,r.createVNode)(u,{modelValue:o.todoList,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.todoList=e}),group:"etapes","item-key":"id",onChange:t[8]||(t[8]=function(e){return i.onDragUpdate("todo")}),class:"draggable-list",animation:200},{item:(0,r.withCtx)(function(e){var n=e.element;return[(0,r.createVNode)(l,{class:"kanban-card todo-card",hoverable:"",onClick:function(e){return i.editEtape(n)}},{footer:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",R,[(0,r.createVNode)(c,{onClick:(0,r.withModifiers)(function(e){return i.changeStatut(n,"in_progress")},["stop"]),variant:"ghost",size:"sm"},{default:(0,r.withCtx)(function(){return f(t[32]||(t[32]=[(0,r.createTextVNode)(" â–¶ï¸ DÃ©marrer ",-1)]))}),_:1},8,["onClick"]),(0,r.createVNode)(c,{onClick:(0,r.withModifiers)(function(e){return i.deleteEtape(n)},["stop"]),variant:"danger",size:"sm"},{default:(0,r.withCtx)(function(){return f(t[33]||(t[33]=[(0,r.createTextVNode)(" ðŸ—‘ï¸ ",-1)]))}),_:1},8,["onClick"])])]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",F,[(0,r.createElementVNode)("div",I,[(0,r.createElementVNode)("h4",z,(0,r.toDisplayString)(n.titre),1),n.priority?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,variant:i.getPriorityVariant(n.priority),size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.getPriorityIcon(n.priority)),1)]}),_:2},1032,["variant"])):(0,r.createCommentVNode)("v-if",!0)]),n.description?((0,r.openBlock)(),(0,r.createElementBlock)("p",U,(0,r.toDisplayString)(n.description),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",G,[n.dateLimite?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,variant:i.getDateVariant(n.dateLimite),size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)(" ðŸ“… "+(0,r.toDisplayString)(i.formatDate(n.dateLimite)),1)]}),_:2},1032,["variant"])):(0,r.createCommentVNode)("v-if",!0),n.category?((0,r.openBlock)(),(0,r.createBlock)(s,{key:1,variant:"gray",size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(n.category),1)]}),_:2},1024)):(0,r.createCommentVNode)("v-if",!0)])])]}),_:2},1032,["onClick"])]}),_:1},8,["modelValue"]),0===i.filteredEtapesByStatut.todo.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",$,[t[34]||(t[34]=(0,r.createElementVNode)("span",{class:"empty-icon"},"âœ…",-1)),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(o.searchQuery?"Aucun rÃ©sultat":"Aucune Ã©tape Ã  faire"),1)])):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createCommentVNode)(" Colonne EN COURS "),(0,r.createElementVNode)("div",q,[(0,r.createElementVNode)("div",K,[t[35]||(t[35]=(0,r.createElementVNode)("div",{class:"column-title"},[(0,r.createElementVNode)("span",{class:"column-icon"},"â³"),(0,r.createElementVNode)("h3",null,"En Cours")],-1)),(0,r.createVNode)(s,{variant:"warning",pill:""},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.filteredEtapesByStatut.in_progress.length),1)]}),_:1})]),(0,r.createElementVNode)("div",Q,[(0,r.createVNode)(u,{modelValue:o.inProgressList,"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.inProgressList=e}),group:"etapes","item-key":"id",onChange:t[10]||(t[10]=function(e){return i.onDragUpdate("in_progress")}),class:"draggable-list",animation:200},{item:(0,r.withCtx)(function(e){var n=e.element;return[(0,r.createVNode)(l,{class:"kanban-card progress-card",hoverable:"",onClick:function(e){return i.editEtape(n)}},{footer:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",X,[(0,r.createVNode)(c,{onClick:(0,r.withModifiers)(function(e){return i.changeStatut(n,"todo")},["stop"]),variant:"ghost",size:"sm"},{default:(0,r.withCtx)(function(){return f(t[37]||(t[37]=[(0,r.createTextVNode)(" â¬…ï¸ ",-1)]))}),_:1},8,["onClick"]),(0,r.createVNode)(c,{onClick:(0,r.withModifiers)(function(e){return i.changeStatut(n,"done")},["stop"]),variant:"success",size:"sm"},{default:(0,r.withCtx)(function(){return f(t[38]||(t[38]=[(0,r.createTextVNode)(" âœ… Terminer ",-1)]))}),_:1},8,["onClick"])])]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",W,[t[36]||(t[36]=(0,r.createElementVNode)("div",{class:"card-status"},[(0,r.createElementVNode)("div",{class:"pulse-dot"}),(0,r.createElementVNode)("span",null,"En cours")],-1)),(0,r.createElementVNode)("div",H,[(0,r.createElementVNode)("h4",J,(0,r.toDisplayString)(n.titre),1),n.priority?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,variant:i.getPriorityVariant(n.priority),size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.getPriorityIcon(n.priority)),1)]}),_:2},1032,["variant"])):(0,r.createCommentVNode)("v-if",!0)]),n.description?((0,r.openBlock)(),(0,r.createElementBlock)("p",Y,(0,r.toDisplayString)(n.description),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",Z,[n.dateDebut?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,variant:"info",size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)(" ðŸš€ "+(0,r.toDisplayString)(i.formatDate(n.dateDebut)),1)]}),_:2},1024)):(0,r.createCommentVNode)("v-if",!0),n.category?((0,r.openBlock)(),(0,r.createBlock)(s,{key:1,variant:"gray",size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(n.category),1)]}),_:2},1024)):(0,r.createCommentVNode)("v-if",!0)])])]}),_:2},1032,["onClick"])]}),_:1},8,["modelValue"]),0===i.filteredEtapesByStatut.in_progress.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",ee,[t[39]||(t[39]=(0,r.createElementVNode)("span",{class:"empty-icon"},"ðŸ’¤",-1)),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(o.searchQuery?"Aucun rÃ©sultat":"Aucune Ã©tape en cours"),1)])):(0,r.createCommentVNode)("v-if",!0)])]),(0,r.createCommentVNode)(" Colonne TERMINÃ‰ "),(0,r.createElementVNode)("div",te,[(0,r.createElementVNode)("div",ne,[t[40]||(t[40]=(0,r.createElementVNode)("div",{class:"column-title"},[(0,r.createElementVNode)("span",{class:"column-icon"},"âœ…"),(0,r.createElementVNode)("h3",null,"TerminÃ©")],-1)),(0,r.createVNode)(s,{variant:"success",pill:""},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.filteredEtapesByStatut.done.length),1)]}),_:1})]),(0,r.createElementVNode)("div",re,[(0,r.createVNode)(u,{modelValue:o.doneList,"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.doneList=e}),group:"etapes","item-key":"id",onChange:t[12]||(t[12]=function(e){return i.onDragUpdate("done")}),class:"draggable-list",animation:200},{item:(0,r.withCtx)(function(e){var n=e.element;return[(0,r.createVNode)(l,{class:"kanban-card done-card",hoverable:"",onClick:function(e){return i.editEtape(n)}},{footer:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",se,[(0,r.createVNode)(c,{onClick:(0,r.withModifiers)(function(e){return i.changeStatut(n,"in_progress")},["stop"]),variant:"ghost",size:"sm"},{default:(0,r.withCtx)(function(){return f(t[42]||(t[42]=[(0,r.createTextVNode)(" â†©ï¸ RÃ©ouvrir ",-1)]))}),_:1},8,["onClick"])])]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",ae,[t[41]||(t[41]=(0,r.createElementVNode)("div",{class:"card-status success"},[(0,r.createElementVNode)("span",{class:"success-icon"},"ðŸŽ‰"),(0,r.createElementVNode)("span",null,"TerminÃ©")],-1)),(0,r.createElementVNode)("h4",oe,(0,r.toDisplayString)(n.titre),1),n.description?((0,r.openBlock)(),(0,r.createElementBlock)("p",ie,(0,r.toDisplayString)(n.description),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",ce,[n.category?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,variant:"gray",size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(n.category),1)]}),_:2},1024)):(0,r.createCommentVNode)("v-if",!0)])])]}),_:2},1032,["onClick"])]}),_:1},8,["modelValue"]),0===i.filteredEtapesByStatut.done.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",le,[t[43]||(t[43]=(0,r.createElementVNode)("span",{class:"empty-icon"},"ðŸŽ¯",-1)),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(o.searchQuery?"Aucun rÃ©sultat":"Aucune Ã©tape terminÃ©e"),1)])):(0,r.createCommentVNode)("v-if",!0)])])]),(0,r.createCommentVNode)(" Modal avec champs de prioritÃ© et catÃ©gorie "),(0,r.createVNode)(d,{show:o.showAddModal||!!o.editingEtape,title:o.editingEtape?"Modifier l'Ã©tape":"Nouvelle Ã©tape",onClose:i.closeModal,size:"lg"},{footer:(0,r.withCtx)(function(){return[(0,r.createVNode)(c,{onClick:i.closeModal,variant:"secondary"},{default:(0,r.withCtx)(function(){return f(t[52]||(t[52]=[(0,r.createTextVNode)(" Annuler ",-1)]))}),_:1},8,["onClick"]),(0,r.createVNode)(c,{onClick:i.saveEtape,loading:o.saving},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(o.editingEtape?"ðŸ’¾ Mettre Ã  jour":"âœ¨ CrÃ©er"),1)]}),_:1},8,["onClick","loading"])]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("form",{onSubmit:t[20]||(t[20]=(0,r.withModifiers)(function(){return i.saveEtape&&i.saveEtape.apply(i,arguments)},["prevent"])),class:"etape-form"},[(0,r.createElementVNode)("div",ue,[t[44]||(t[44]=(0,r.createElementVNode)("label",{class:"form-label"},[(0,r.createTextVNode)("Titre "),(0,r.createElementVNode)("span",{class:"required"},"*")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return o.form.titre=e}),type:"text",class:"form-input",placeholder:"Ex: Ã‰tude de marchÃ©",required:""},null,512),[[r.vModelText,o.form.titre]])]),(0,r.createElementVNode)("div",de,[(0,r.createElementVNode)("div",me,[t[46]||(t[46]=(0,r.createElementVNode)("label",{class:"form-label"},"PrioritÃ©",-1)),(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[14]||(t[14]=function(e){return o.form.priority=e}),class:"form-input"},f(t[45]||(t[45]=[(0,r.createElementVNode)("option",{value:""},"Aucune",-1),(0,r.createElementVNode)("option",{value:"urgent"},"ðŸ”´ Urgent",-1),(0,r.createElementVNode)("option",{value:"normal"},"ðŸŸ¡ Normal",-1),(0,r.createElementVNode)("option",{value:"low"},"ðŸŸ¢ Basse",-1)])),512),[[r.vModelSelect,o.form.priority]])]),(0,r.createElementVNode)("div",pe,[t[47]||(t[47]=(0,r.createElementVNode)("label",{class:"form-label"},"CatÃ©gorie",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[15]||(t[15]=function(e){return o.form.category=e}),type:"text",class:"form-input",placeholder:"Ex: Administratif, Formation..."},null,512),[[r.vModelText,o.form.category]])])]),(0,r.createElementVNode)("div",fe,[t[48]||(t[48]=(0,r.createElementVNode)("label",{class:"form-label"},"Description",-1)),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[16]||(t[16]=function(e){return o.form.description=e}),rows:"3",class:"form-input",placeholder:"DÃ©crivez cette Ã©tape..."},null,512),[[r.vModelText,o.form.description]])]),(0,r.createElementVNode)("div",ve,[(0,r.createElementVNode)("div",he,[t[49]||(t[49]=(0,r.createElementVNode)("label",{class:"form-label"},"ðŸ“… Date de dÃ©but",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[17]||(t[17]=function(e){return o.form.dateDebut=e}),type:"date",class:"form-input"},null,512),[[r.vModelText,o.form.dateDebut]])]),(0,r.createElementVNode)("div",ge,[t[50]||(t[50]=(0,r.createElementVNode)("label",{class:"form-label"},"â° Date limite",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[18]||(t[18]=function(e){return o.form.dateLimite=e}),type:"date",class:"form-input"},null,512),[[r.vModelText,o.form.dateLimite]])])]),(0,r.createElementVNode)("div",ye,[t[51]||(t[51]=(0,r.createElementVNode)("label",{class:"form-label"},"ðŸ“ Notes",-1)),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[19]||(t[19]=function(e){return o.form.notes=e}),rows:"4",class:"form-input",placeholder:"Ajoutez des notes, liens, ou informations supplÃ©mentaires..."},null,512),[[r.vModelText,o.form.notes]])])],32)]}),_:1},8,["show","title","onClose"])])}],["__scopeId","data-v-13881c49"]]),Oe=Ae;function Pe(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var je={class:"dashboard"},Le={class:"dashboard-header"},Fe={class:"header-date"},Ie={class:"kpi-grid"},ze={class:"kpi-content"},Ue={class:"kpi-details"},Ge={class:"kpi-value"},Re={class:"kpi-content"},$e={class:"kpi-details"},qe={class:"kpi-value"},Ke={class:"kpi-content"},Qe={class:"kpi-details"},We={class:"kpi-value"},He={class:"kpi-content"},Je={class:"kpi-details"},Ye={class:"kpi-value"},Ze={class:"kpi-progress-bar"},Xe={class:"charts-grid"},et={class:"chart-container"},tt={ref:"statusChart"},nt={class:"chart-container"},rt={ref:"categoryChart"},at={class:"chart-container"},ot={ref:"priorityChart"},it={class:"timeline-container"},ct={key:0,class:"empty-timeline"},st={key:1,class:"timeline-list"},lt={class:"timeline-content"},ut={class:"timeline-title"},dt={class:"timeline-meta"},mt={class:"urgent-list"},pt={class:"urgent-content"},ft={key:0},vt={class:"urgent-meta"};n(6034);var ht=n(6349);function gt(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return yt(l,"_invoke",function(n,r,a){var o,c,s,l=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,s=e,m.n=n,i}};function p(n,r){for(c=n,s=r,t=0;!d&&l&&!a&&t<u.length;t++){var a,o=u[t],p=m.p,f=o[2];n>3?(a=f===r)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(c=0,m.v=r,m.n=o[1]):p<f&&(a=n<3||o[0]>r||r>f)&&(o[4]=n,o[5]=r,m.n=f,c=0))}if(a||n>1)return i;throw d=!0,r}return function(a,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,s=f;(t=c<2?e:s)||!d;){o||(c?c<3?(c>1&&(m.n=-1),p(c,s)):m.n=s:m.v=s);try{if(l=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(d=m.n<0)?s:n.call(r,m))!==i)break}catch(t){o=e,c=1,s=t}finally{l=1}}return{value:t,done:d}}}(n,a,o),!0),l}var i={};function c(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(yt(t={},r,function(){return this}),t),d=l.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,yt(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,yt(d,"constructor",l),yt(l,"constructor",s),s.displayName="GeneratorFunction",yt(l,a,"GeneratorFunction"),yt(d),yt(d,a,"Generator"),yt(d,r,function(){return this}),yt(d,"toString",function(){return"[object Generator]"}),(gt=function(){return{w:o,m}})()}function yt(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}yt=function(e,t,n,r){function o(t,n){yt(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},yt(e,t,n,r)}function Vt(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}const Nt={name:"Dashboard",data:function(){return{etapes:[],charts:{status:null,category:null,priority:null}}},computed:{stats:function(){var e=this.etapes.length,t=this.etapes.filter(function(e){return"todo"===e.statut}).length,n=this.etapes.filter(function(e){return"in_progress"===e.statut}).length,r=this.etapes.filter(function(e){return"done"===e.statut}).length;return{total:e,todo:t,inProgress:n,done:r,completionRate:e>0?Math.round(r/e*100):0}},upcomingEtapes:function(){var e=new Date,t=new Date(e.getTime()+2592e6);return this.etapes.filter(function(e){return e.dateLimite&&"done"!==e.statut}).filter(function(n){var r=new Date(n.dateLimite);return r>=e&&r<=t}).sort(function(e,t){return new Date(e.dateLimite)-new Date(t.dateLimite)}).slice(0,5)},urgentEtapes:function(){return this.etapes.filter(function(e){return"urgent"===e.priority&&"done"!==e.statut}).slice(0,3)},currentDate:function(){return(new Date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}},mounted:function(){this.loadEtapes()},beforeUnmount:function(){Object.values(this.charts).forEach(function(e){e&&e.destroy()})},methods:{loadEtapes:function(){var e,t=this;return(e=gt().m(function e(){var n,r;return gt().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/api/etapes");case 1:return n=e.v,e.n=2,n.json();case 2:t.etapes=e.v,t.$nextTick(function(){t.createCharts()}),e.n=4;break;case 3:e.p=3,r=e.v,console.error("Erreur chargement Ã©tapes:",r);case 4:return e.a(2)}},e,null,[[0,3]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Vt(o,r,a,i,c,"next",e)}function c(e){Vt(o,r,a,i,c,"throw",e)}i(void 0)})})()},createCharts:function(){this.createStatusChart(),this.createCategoryChart(),this.createPriorityChart()},createStatusChart:function(){var e=this.$refs.statusChart;e&&(this.charts.status&&this.charts.status.destroy(),this.charts.status=new ht.Ay(e,{type:"doughnut",data:{labels:["Ã€ Faire","En Cours","TerminÃ©"],datasets:[{data:[this.stats.todo,this.stats.inProgress,this.stats.done],backgroundColor:["rgba(245, 158, 11, 0.8)","rgba(139, 92, 246, 0.8)","rgba(16, 185, 129, 0.8)"],borderColor:["rgba(245, 158, 11, 1)","rgba(139, 92, 246, 1)","rgba(16, 185, 129, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12}}}}}}))},createCategoryChart:function(){var e=this.$refs.categoryChart;if(e){this.charts.category&&this.charts.category.destroy();var t={};this.etapes.forEach(function(e){var n=e.category||"Sans catÃ©gorie";t[n]=(t[n]||0)+1});var n=Object.keys(t),r=Object.values(t);this.charts.category=new ht.Ay(e,{type:"bar",data:{labels:n,datasets:[{label:"Nombre d'Ã©tapes",data:r,backgroundColor:"rgba(102, 126, 234, 0.8)",borderColor:"rgba(102, 126, 234, 1)",borderWidth:2,borderRadius:8}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})}},createPriorityChart:function(){var e=this.$refs.priorityChart;if(e){this.charts.priority&&this.charts.priority.destroy();var t=this.etapes.filter(function(e){return"urgent"===e.priority}).length,n=this.etapes.filter(function(e){return"normal"===e.priority}).length,r=this.etapes.filter(function(e){return"low"===e.priority}).length,a=this.etapes.filter(function(e){return!e.priority}).length;this.charts.priority=new ht.Ay(e,{type:"bar",data:{labels:["Urgent","Normal","Basse","Non dÃ©finie"],datasets:[{label:"Nombre d'Ã©tapes",data:[t,n,r,a],backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(16, 185, 129, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgba(239, 68, 68, 1)","rgba(245, 158, 11, 1)","rgba(16, 185, 129, 1)","rgba(156, 163, 175, 1)"],borderWidth:2,borderRadius:8}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})}},formatDate:function(e){return e?new Date(e).toLocaleDateString("fr-FR"):""},formatDateRelative:function(e){if(!e)return"";var t=new Date(e)-new Date,n=Math.ceil(t/864e5);return n<0?"En retard":0===n?"Aujourd'hui":1===n?"Demain":n<=7?"Dans ".concat(n," jours"):this.formatDate(e)},getDateBadgeVariant:function(e){if(!e)return"gray";var t=new Date(e),n=new Date,r=Math.ceil((t-n)/864e5);return r<0?"danger":r<=3?"warning":"info"},getTimelineClass:function(e){var t=this.getDateBadgeVariant(e);return"timeline-".concat(t)},goToKanban:function(){this.$emit("navigate","kanban")}}},Et=(0,_e.A)(Nt,[["render",function(e,t,n,a,o,i){var c=(0,r.resolveComponent)("Badge"),s=(0,r.resolveComponent)("Card");return(0,r.openBlock)(),(0,r.createElementBlock)("div",je,[(0,r.createCommentVNode)(" Header "),(0,r.createElementVNode)("div",Le,[t[1]||(t[1]=(0,r.createElementVNode)("div",{class:"header-title"},[(0,r.createElementVNode)("h2",null,"ðŸ“Š Tableau de Bord"),(0,r.createElementVNode)("p",{class:"subtitle"},"Vue d'ensemble de votre projet entrepreneurial")],-1)),(0,r.createElementVNode)("div",Fe,[(0,r.createVNode)(c,{variant:"primary",size:"lg"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.currentDate),1)]}),_:1})])]),(0,r.createCommentVNode)(" KPI Cards "),(0,r.createElementVNode)("div",Ie,[(0,r.createVNode)(s,{class:"kpi-card total-card",hoverable:""},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",ze,[t[3]||(t[3]=(0,r.createElementVNode)("div",{class:"kpi-icon"},"ðŸ“‹",-1)),(0,r.createElementVNode)("div",Ue,[t[2]||(t[2]=(0,r.createElementVNode)("span",{class:"kpi-label"},"Total Ã‰tapes",-1)),(0,r.createElementVNode)("span",Ge,(0,r.toDisplayString)(i.stats.total),1)])])]}),_:1}),(0,r.createVNode)(s,{class:"kpi-card progress-card",hoverable:""},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Re,[t[5]||(t[5]=(0,r.createElementVNode)("div",{class:"kpi-icon"},"â³",-1)),(0,r.createElementVNode)("div",$e,[t[4]||(t[4]=(0,r.createElementVNode)("span",{class:"kpi-label"},"En Cours",-1)),(0,r.createElementVNode)("span",qe,(0,r.toDisplayString)(i.stats.inProgress),1)])])]}),_:1}),(0,r.createVNode)(s,{class:"kpi-card done-card",hoverable:""},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Ke,[t[7]||(t[7]=(0,r.createElementVNode)("div",{class:"kpi-icon"},"âœ…",-1)),(0,r.createElementVNode)("div",Qe,[t[6]||(t[6]=(0,r.createElementVNode)("span",{class:"kpi-label"},"TerminÃ©es",-1)),(0,r.createElementVNode)("span",We,(0,r.toDisplayString)(i.stats.done),1)])])]}),_:1}),(0,r.createVNode)(s,{class:"kpi-card completion-card",hoverable:""},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",He,[t[9]||(t[9]=(0,r.createElementVNode)("div",{class:"kpi-icon"},"ðŸŽ¯",-1)),(0,r.createElementVNode)("div",Je,[t[8]||(t[8]=(0,r.createElementVNode)("span",{class:"kpi-label"},"Progression",-1)),(0,r.createElementVNode)("span",Ye,(0,r.toDisplayString)(i.stats.completionRate)+"%",1)])]),(0,r.createElementVNode)("div",Ze,[(0,r.createElementVNode)("div",{class:"kpi-progress-fill",style:(0,r.normalizeStyle)({width:i.stats.completionRate+"%"})},null,4)])]}),_:1})]),(0,r.createCommentVNode)(" Charts Grid "),(0,r.createElementVNode)("div",Xe,[(0,r.createCommentVNode)(" Graphique en anneau - Statuts "),(0,r.createVNode)(s,{class:"chart-card"},{header:(0,r.withCtx)(function(){return Pe(t[10]||(t[10]=[(0,r.createElementVNode)("h3",{class:"chart-title"},"ðŸ“Š RÃ©partition par Statut",-1)]))}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",et,[(0,r.createElementVNode)("canvas",tt,null,512)])]}),_:1}),(0,r.createCommentVNode)(" Graphique en barres - CatÃ©gories "),(0,r.createVNode)(s,{class:"chart-card"},{header:(0,r.withCtx)(function(){return Pe(t[11]||(t[11]=[(0,r.createElementVNode)("h3",{class:"chart-title"},"ðŸ“ Ã‰tapes par CatÃ©gorie",-1)]))}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",nt,[(0,r.createElementVNode)("canvas",rt,null,512)])]}),_:1}),(0,r.createCommentVNode)(" Graphique en barres - PrioritÃ©s "),(0,r.createVNode)(s,{class:"chart-card"},{header:(0,r.withCtx)(function(){return Pe(t[12]||(t[12]=[(0,r.createElementVNode)("h3",{class:"chart-title"},"ðŸ”¥ RÃ©partition par PrioritÃ©",-1)]))}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",at,[(0,r.createElementVNode)("canvas",ot,null,512)])]}),_:1}),(0,r.createCommentVNode)(" Timeline - Prochaines Ã©chÃ©ances "),(0,r.createVNode)(s,{class:"chart-card timeline-card"},{header:(0,r.withCtx)(function(){return Pe(t[13]||(t[13]=[(0,r.createElementVNode)("h3",{class:"chart-title"},"ðŸ“… Prochaines Ã‰chÃ©ances (30 jours)",-1)]))}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",it,[0===i.upcomingEtapes.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",ct,Pe(t[14]||(t[14]=[(0,r.createElementVNode)("span",{class:"empty-icon"},"ðŸ“…",-1),(0,r.createElementVNode)("p",null,"Aucune Ã©chÃ©ance dans les 30 prochains jours",-1)])))):((0,r.openBlock)(),(0,r.createElementBlock)("div",st,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.upcomingEtapes,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:(0,r.normalizeClass)(["timeline-item",i.getTimelineClass(e.dateLimite)])},[t[15]||(t[15]=(0,r.createElementVNode)("div",{class:"timeline-dot"},null,-1)),(0,r.createElementVNode)("div",lt,[(0,r.createElementVNode)("h4",ut,(0,r.toDisplayString)(e.titre),1),(0,r.createElementVNode)("div",dt,[(0,r.createVNode)(c,{variant:i.getDateBadgeVariant(e.dateLimite),size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.formatDateRelative(e.dateLimite)),1)]}),_:2},1032,["variant"]),e.category?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,variant:"gray",size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(e.category),1)]}),_:2},1024)):(0,r.createCommentVNode)("v-if",!0)])])],2)}),128))]))])]}),_:1})]),(0,r.createCommentVNode)(" Ã‰tapes urgentes "),i.urgentEtapes.length>0?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,class:"urgent-card"},{header:(0,r.withCtx)(function(){return Pe(t[16]||(t[16]=[(0,r.createElementVNode)("h3",{class:"chart-title"},"ðŸ”´ Ã‰tapes Urgentes",-1)]))}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",mt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.urgentEtapes,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:"urgent-item",onClick:t[0]||(t[0]=function(){return i.goToKanban&&i.goToKanban.apply(i,arguments)})},[t[18]||(t[18]=(0,r.createElementVNode)("div",{class:"urgent-icon"},"âš ï¸",-1)),(0,r.createElementVNode)("div",pt,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(e.titre),1),e.description?((0,r.openBlock)(),(0,r.createElementBlock)("p",ft,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",vt,[(0,r.createVNode)(c,{variant:"danger",size:"sm"},{default:(0,r.withCtx)(function(){return Pe(t[17]||(t[17]=[(0,r.createTextVNode)("Urgent",-1)]))}),_:1}),e.dateLimite?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,variant:"warning",size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)(" Ã‰chÃ©ance : "+(0,r.toDisplayString)(i.formatDate(e.dateLimite)),1)]}),_:2},1024)):(0,r.createCommentVNode)("v-if",!0)])])])}),128))])]}),_:1})):(0,r.createCommentVNode)("v-if",!0)])}],["__scopeId","data-v-aae934d2"]]),bt=Et;function Ct(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kt={class:"calendrier"},Dt={class:"controls-row"},St={class:"current-month"},Bt={class:"controls-filters"},xt={class:"calendar-header-days"},Tt={class:"calendar-grid"},_t=["onClick"],At={class:"day-number"},Ot={key:0,class:"day-etapes"},Pt=["onClick"],Mt={class:"etape-title"},jt={key:0,class:"more-etapes"},Lt={class:"chart-title"},Ft={class:"etapes-list"},It={class:"etape-header"},zt={key:0,class:"etape-description"},Ut={class:"etape-meta"},Gt={class:"monthly-stats"},Rt={class:"stat-content"},$t={class:"stat-details"},qt={class:"stat-value"},Kt={class:"stat-content"},Qt={class:"stat-details"},Wt={class:"stat-value"},Ht={class:"stat-content"},Jt={class:"stat-details"},Yt={class:"stat-value"},Zt={class:"stat-content"},Xt={class:"stat-details"},en={class:"stat-value"};n(113),n(5086),n(2577),n(7550);function tn(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return nn(l,"_invoke",function(n,r,a){var o,c,s,l=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,s=e,m.n=n,i}};function p(n,r){for(c=n,s=r,t=0;!d&&l&&!a&&t<u.length;t++){var a,o=u[t],p=m.p,f=o[2];n>3?(a=f===r)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(c=0,m.v=r,m.n=o[1]):p<f&&(a=n<3||o[0]>r||r>f)&&(o[4]=n,o[5]=r,m.n=f,c=0))}if(a||n>1)return i;throw d=!0,r}return function(a,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,s=f;(t=c<2?e:s)||!d;){o||(c?c<3?(c>1&&(m.n=-1),p(c,s)):m.n=s:m.v=s);try{if(l=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(d=m.n<0)?s:n.call(r,m))!==i)break}catch(t){o=e,c=1,s=t}finally{l=1}}return{value:t,done:d}}}(n,a,o),!0),l}var i={};function c(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(nn(t={},r,function(){return this}),t),d=l.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,nn(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,nn(d,"constructor",l),nn(l,"constructor",s),s.displayName="GeneratorFunction",nn(l,a,"GeneratorFunction"),nn(d),nn(d,a,"Generator"),nn(d,r,function(){return this}),nn(d,"toString",function(){return"[object Generator]"}),(tn=function(){return{w:o,m}})()}function nn(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}nn=function(e,t,n,r){function o(t,n){nn(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},nn(e,t,n,r)}function rn(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}const an={name:"Calendrier",data:function(){return{etapes:[],currentDate:new Date,selectedDay:null,daysOfWeek:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"]}},computed:{currentMonthYear:function(){return this.currentDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})},formatSelectedDate:function(){return this.selectedDay?this.selectedDay.date.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):""},calendarDays:function(){var e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),n=new Date(e,t,1),r=new Date(e,t+1,0),a=n.getDay();a=0===a?7:a;for(var o=[],i=new Date(e,t,0).getDate(),c=a-1;c>0;c--){var s=new Date(e,t-1,i-c+1);o.push({number:i-c+1,date:s,isCurrentMonth:!1,isToday:!1,etapes:this.getEtapesForDate(s)})}for(var l=1;l<=r.getDate();l++){var u=new Date(e,t,l),d=new Date,m=u.toDateString()===d.toDateString();o.push({number:l,date:u,isCurrentMonth:!0,isToday:m,etapes:this.getEtapesForDate(u)})}for(var p=42-o.length,f=1;f<=p;f++){var v=new Date(e,t+1,f);o.push({number:f,date:v,isCurrentMonth:!1,isToday:!1,etapes:this.getEtapesForDate(v)})}return o},monthStats:function(){var e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),n=new Date;n.setHours(0,0,0,0);var r=this.etapes.filter(function(n){if(!n.dateLimite)return!1;var r=new Date(n.dateLimite);return r.getFullYear()===e&&r.getMonth()===t}),a=new Date(n);a.setDate(n.getDate()-n.getDay()+1);var o=new Date(a);o.setDate(a.getDate()+6);var i=r.filter(function(e){var t=new Date(e.dateLimite);return t>=a&&t<=o}).length;return{total:r.length,thisWeek:i,urgent:r.filter(function(e){return"urgent"===e.priority}).length,overdue:r.filter(function(e){return new Date(e.dateLimite)<n&&"done"!==e.statut}).length}}},mounted:function(){this.loadEtapes()},methods:{loadEtapes:function(){var e,t=this;return(e=tn().m(function e(){var n,r;return tn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/api/etapes");case 1:return n=e.v,e.n=2,n.json();case 2:t.etapes=e.v,e.n=4;break;case 3:e.p=3,r=e.v,console.error("Erreur chargement Ã©tapes:",r);case 4:return e.a(2)}},e,null,[[0,3]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){rn(o,r,a,i,c,"next",e)}function c(e){rn(o,r,a,i,c,"throw",e)}i(void 0)})})()},getEtapesForDate:function(e){return this.etapes.filter(function(t){return!!t.dateLimite&&new Date(t.dateLimite).toDateString()===e.toDateString()})},getDayClasses:function(e){return["calendar-day",{"other-month":!e.isCurrentMonth},{today:e.isToday},{"has-etapes":e.etapes.length>0},{selected:this.selectedDay&&this.selectedDay.date.toDateString()===e.date.toDateString()}]},getPriorityClass:function(e){return{urgent:"priority-urgent",normal:"priority-normal",low:"priority-low"}[e]||"priority-none"},getPriorityVariant:function(e){return{urgent:"danger",normal:"warning",low:"success"}[e]||"gray"},getPriorityLabel:function(e){return{urgent:"ðŸ”´ Urgent",normal:"ðŸŸ¡ Normal",low:"ðŸŸ¢ Basse"}[e]||"Non dÃ©finie"},getStatusVariant:function(e){return{todo:"gray",in_progress:"warning",done:"success"}[e]||"gray"},getStatusLabel:function(e){return{todo:"ðŸ“ Ã€ faire",in_progress:"â³ En cours",done:"âœ… TerminÃ©"}[e]||e},previousMonth:function(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1,1),this.selectedDay=null},nextMonth:function(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,1),this.selectedDay=null},goToToday:function(){this.currentDate=new Date,this.selectedDay=null},selectDay:function(e){e.etapes.length>0&&(this.selectedDay=e)},openEtapeDetails:function(e){this.selectedDay=this.calendarDays.find(function(t){return t.etapes.some(function(t){return t.id===e.id})})},truncate:function(e,t){return e?e.length>t?e.substring(0,t)+"...":e:""},goToKanban:function(){this.$emit("navigate","kanban")}}},on=(0,_e.A)(an,[["render",function(e,t,n,a,o,i){var c=(0,r.resolveComponent)("Button"),s=(0,r.resolveComponent)("Card"),l=(0,r.resolveComponent)("Badge");return(0,r.openBlock)(),(0,r.createElementBlock)("div",kt,[(0,r.createCommentVNode)(" Header "),t[13]||(t[13]=(0,r.createElementVNode)("div",{class:"calendrier-header"},[(0,r.createElementVNode)("div",{class:"header-title"},[(0,r.createElementVNode)("h2",null,"ðŸ“… Calendrier"),(0,r.createElementVNode)("p",{class:"subtitle"},"Visualise tes Ã©chÃ©ances et planifie ton projet")])],-1)),(0,r.createCommentVNode)(" ContrÃ´les de navigation "),(0,r.createVNode)(s,{class:"calendar-controls"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Dt,[(0,r.createVNode)(c,{onClick:i.previousMonth,variant:"ghost"},{default:(0,r.withCtx)(function(){return Ct(t[1]||(t[1]=[(0,r.createTextVNode)(" â† Mois prÃ©cÃ©dent ",-1)]))}),_:1},8,["onClick"]),(0,r.createElementVNode)("h3",St,(0,r.toDisplayString)(i.currentMonthYear),1),(0,r.createVNode)(c,{onClick:i.nextMonth,variant:"ghost"},{default:(0,r.withCtx)(function(){return Ct(t[2]||(t[2]=[(0,r.createTextVNode)(" Mois suivant â†’ ",-1)]))}),_:1},8,["onClick"])]),(0,r.createElementVNode)("div",Bt,[(0,r.createVNode)(c,{onClick:i.goToToday,variant:"primary",size:"sm"},{default:(0,r.withCtx)(function(){return Ct(t[3]||(t[3]=[(0,r.createTextVNode)(" ðŸ“ Aujourd'hui ",-1)]))}),_:1},8,["onClick"]),t[4]||(t[4]=(0,r.createElementVNode)("div",{class:"legend"},[(0,r.createElementVNode)("div",{class:"legend-item"},[(0,r.createElementVNode)("span",{class:"legend-dot urgent"}),(0,r.createElementVNode)("span",null,"Urgent")]),(0,r.createElementVNode)("div",{class:"legend-item"},[(0,r.createElementVNode)("span",{class:"legend-dot normal"}),(0,r.createElementVNode)("span",null,"Normal")]),(0,r.createElementVNode)("div",{class:"legend-item"},[(0,r.createElementVNode)("span",{class:"legend-dot low"}),(0,r.createElementVNode)("span",null,"Basse")])],-1))])]}),_:1}),(0,r.createCommentVNode)(" Calendrier "),(0,r.createVNode)(s,{class:"calendar-grid-container"},{default:(0,r.withCtx)(function(){return[(0,r.createCommentVNode)(" En-tÃªte des jours "),(0,r.createElementVNode)("div",xt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.daysOfWeek,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"day-name",key:e},(0,r.toDisplayString)(e),1)}),128))]),(0,r.createCommentVNode)(" Grille du calendrier "),(0,r.createElementVNode)("div",Tt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.calendarDays,function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:(0,r.normalizeClass)(i.getDayClasses(e)),onClick:function(t){return i.selectDay(e)}},[(0,r.createElementVNode)("div",At,(0,r.toDisplayString)(e.number),1),e.etapes.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ot,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.etapes.slice(0,3),function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:(0,r.normalizeClass)(["etape-pill",i.getPriorityClass(e.priority)]),onClick:(0,r.withModifiers)(function(t){return i.openEtapeDetails(e)},["stop"])},[(0,r.createElementVNode)("span",Mt,(0,r.toDisplayString)(i.truncate(e.titre,20)),1)],10,Pt)}),128)),e.etapes.length>3?((0,r.openBlock)(),(0,r.createElementBlock)("div",jt," +"+(0,r.toDisplayString)(e.etapes.length-3)+" autre(s) ",1)):(0,r.createCommentVNode)("v-if",!0)])):(0,r.createCommentVNode)("v-if",!0)],10,_t)}),128))])]}),_:1}),(0,r.createCommentVNode)(" Liste des Ã©tapes du jour sÃ©lectionnÃ© "),o.selectedDay&&o.selectedDay.etapes.length>0?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,class:"selected-day-details"},{header:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("h3",Lt," ðŸ“‹ Ã‰tapes du "+(0,r.toDisplayString)(i.formatSelectedDate),1)]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Ft,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.selectedDay.etapes,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:"etape-item",onClick:t[0]||(t[0]=function(){return i.goToKanban&&i.goToKanban.apply(i,arguments)})},[(0,r.createElementVNode)("div",It,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(e.titre),1),(0,r.createVNode)(l,{variant:i.getPriorityVariant(e.priority)},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.getPriorityLabel(e.priority)),1)]}),_:2},1032,["variant"])]),e.description?((0,r.openBlock)(),(0,r.createElementBlock)("p",zt,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",Ut,[(0,r.createVNode)(l,{variant:i.getStatusVariant(e.statut),size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(i.getStatusLabel(e.statut)),1)]}),_:2},1032,["variant"]),e.category?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,variant:"gray",size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(e.category),1)]}),_:2},1024)):(0,r.createCommentVNode)("v-if",!0)])])}),128))])]}),_:1})):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Stats mensuelles "),(0,r.createElementVNode)("div",Gt,[(0,r.createVNode)(s,{class:"stat-card"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Rt,[t[6]||(t[6]=(0,r.createElementVNode)("div",{class:"stat-icon"},"ðŸ“Š",-1)),(0,r.createElementVNode)("div",$t,[(0,r.createElementVNode)("span",qt,(0,r.toDisplayString)(i.monthStats.total),1),t[5]||(t[5]=(0,r.createElementVNode)("span",{class:"stat-label"},"Ã‰chÃ©ances ce mois",-1))])])]}),_:1}),(0,r.createVNode)(s,{class:"stat-card"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Kt,[t[8]||(t[8]=(0,r.createElementVNode)("div",{class:"stat-icon"},"â°",-1)),(0,r.createElementVNode)("div",Qt,[(0,r.createElementVNode)("span",Wt,(0,r.toDisplayString)(i.monthStats.thisWeek),1),t[7]||(t[7]=(0,r.createElementVNode)("span",{class:"stat-label"},"Cette semaine",-1))])])]}),_:1}),(0,r.createVNode)(s,{class:"stat-card"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Ht,[t[10]||(t[10]=(0,r.createElementVNode)("div",{class:"stat-icon"},"ðŸ”´",-1)),(0,r.createElementVNode)("div",Jt,[(0,r.createElementVNode)("span",Yt,(0,r.toDisplayString)(i.monthStats.urgent),1),t[9]||(t[9]=(0,r.createElementVNode)("span",{class:"stat-label"},"Urgentes",-1))])])]}),_:1}),(0,r.createVNode)(s,{class:"stat-card"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Zt,[t[12]||(t[12]=(0,r.createElementVNode)("div",{class:"stat-icon"},"âš ï¸",-1)),(0,r.createElementVNode)("div",Xt,[(0,r.createElementVNode)("span",en,(0,r.toDisplayString)(i.monthStats.overdue),1),t[11]||(t[11]=(0,r.createElementVNode)("span",{class:"stat-label"},"En retard",-1))])])]}),_:1})])])}],["__scopeId","data-v-9a6d140a"]]),cn=on;function sn(e){return function(e){if(Array.isArray(e))return ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var un={class:"finances"},dn={class:"finances-header"},mn={class:"header-actions"},pn={class:"financial-kpis"},fn={class:"kpi-content"},vn={class:"kpi-details"},hn={class:"kpi-value"},gn={class:"kpi-content"},yn={class:"kpi-details"},Vn={class:"kpi-value"},Nn={class:"kpi-content"},En={class:"kpi-details"},bn={class:"kpi-content"},Cn={class:"kpi-details"},wn={class:"kpi-value"},kn={class:"kpi-progress-bar"},Dn={class:"charts-section"},Sn={class:"chart-container"},Bn={ref:"expenseChart"},xn={class:"chart-container"},Tn={ref:"monthlyChart"},_n={class:"transactions-header"},An={class:"filters"},On=["value"],Pn={class:"transactions-list"},Mn={key:0,class:"empty-state"},jn={class:"transaction-icon"},Ln={class:"transaction-content"},Fn={class:"transaction-header"},In={class:"transaction-meta"},zn={class:"transaction-date"},Un={class:"budget-header"},Gn={class:"budget-categories"},Rn={class:"budget-cat-header"},$n={class:"budget-cat-name"},qn={class:"budget-cat-amounts"},Kn={class:"spent"},Qn={class:"planned"},Wn={class:"budget-progress-bar"},Hn={class:"budget-percentage"},Jn={class:"form-group"},Yn={class:"form-group"},Zn={class:"form-row"},Xn={class:"form-group"},er={class:"form-group"},tr={class:"form-group"},nr=["value"],rr={class:"form-group"},ar={class:"budget-config"},or={class:"budget-config-list"},ir={class:"budget-config-label"},cr=["onUpdate:modelValue"];n(2062),n(2712),n(1454),n(8872);function sr(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return lr(l,"_invoke",function(n,r,a){var o,c,s,l=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,s=e,m.n=n,i}};function p(n,r){for(c=n,s=r,t=0;!d&&l&&!a&&t<u.length;t++){var a,o=u[t],p=m.p,f=o[2];n>3?(a=f===r)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(c=0,m.v=r,m.n=o[1]):p<f&&(a=n<3||o[0]>r||r>f)&&(o[4]=n,o[5]=r,m.n=f,c=0))}if(a||n>1)return i;throw d=!0,r}return function(a,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,s=f;(t=c<2?e:s)||!d;){o||(c?c<3?(c>1&&(m.n=-1),p(c,s)):m.n=s:m.v=s);try{if(l=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(d=m.n<0)?s:n.call(r,m))!==i)break}catch(t){o=e,c=1,s=t}finally{l=1}}return{value:t,done:d}}}(n,a,o),!0),l}var i={};function c(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(lr(t={},r,function(){return this}),t),d=l.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,lr(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,lr(d,"constructor",l),lr(l,"constructor",s),s.displayName="GeneratorFunction",lr(l,a,"GeneratorFunction"),lr(d),lr(d,a,"Generator"),lr(d,r,function(){return this}),lr(d,"toString",function(){return"[object Generator]"}),(sr=function(){return{w:o,m}})()}function lr(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}lr=function(e,t,n,r){function o(t,n){lr(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},lr(e,t,n,r)}function ur(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function dr(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ur(o,r,a,i,c,"next",e)}function c(e){ur(o,r,a,i,c,"throw",e)}i(void 0)})}}const mr={name:"Finances",data:function(){return{transactions:[],showAddTransactionModal:!1,showBudgetModal:!1,saving:!1,filterType:"all",filterCategory:"all",transactionForm:{type:"expense",description:"",amount:0,date:(new Date).toISOString().split("T")[0],category:"",notes:""},categories:["Formation","Marketing","MatÃ©riel","Administratif","Locaux","Frais franchise","Autre"],budgetConfig:{Formation:5e3,Marketing:3e3,MatÃ©riel:2e3,Administratif:1e3,Locaux:5e3,"Frais franchise":2e4,Autre:1e3},charts:{expense:null,monthly:null}}},computed:{financialStats:function(){var e=this.transactions.filter(function(e){return"revenue"===e.type}).reduce(function(e,t){return e+t.amount},0),t=this.transactions.filter(function(e){return"expense"===e.type}).reduce(function(e,t){return e+t.amount},0);return{totalRevenue:e,totalExpense:t,balance:e-t,budgetRemaining:Object.values(this.budgetConfig).reduce(function(e,t){return e+t},0)-t}},balanceClass:function(){return this.financialStats.balance>=0?"positive":"negative"},budgetUsedPercentage:function(){var e=Object.values(this.budgetConfig).reduce(function(e,t){return e+t},0);return 0===e?0:Math.min(100,Math.round(this.financialStats.totalExpense/e*100))},filteredTransactions:function(){var e=this;return this.transactions.filter(function(t){return"all"===e.filterType||t.type===e.filterType}).filter(function(t){return"all"===e.filterCategory||t.category===e.filterCategory}).sort(function(e,t){return new Date(t.date)-new Date(e.date)})},budgetCategories:function(){var e=this;return this.categories.map(function(t){var n=e.transactions.filter(function(e){return"expense"===e.type&&e.category===t}).reduce(function(e,t){return e+t.amount},0);return{name:t,spent:n,planned:e.budgetConfig[t]||0}})}},mounted:function(){this.loadTransactions(),this.loadBudgetConfig()},beforeUnmount:function(){Object.values(this.charts).forEach(function(e){e&&e.destroy()})},methods:{loadTransactions:function(){var e=this;return dr(sr().m(function t(){var n,r;return sr().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,fetch("/api/transactions");case 1:return n=t.v,t.n=2,n.json();case 2:e.transactions=t.v,e.$nextTick(function(){e.createCharts()}),t.n=4;break;case 3:t.p=3,r=t.v,console.error("Erreur chargement transactions:",r);case 4:return t.a(2)}},t,null,[[0,3]])}))()},loadBudgetConfig:function(){var e=this;return dr(sr().m(function t(){var n;return sr().w(function(t){for(;;)switch(t.n){case 0:(n=localStorage.getItem("budgetConfig"))&&(e.budgetConfig=JSON.parse(n));case 1:return t.a(2)}},t)}))()},saveTransaction:function(){var e=this;return dr(sr().m(function t(){var n,r,a;return sr().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!e.saving){t.n=1;break}return t.a(2);case 1:return e.saving=!0,t.p=2,t.n=3,fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.transactionForm)});case 3:if((n=t.v).ok){t.n=4;break}throw new Error("Erreur lors de la sauvegarde");case 4:return t.n=5,n.json();case 5:r=t.v,e.transactions.push(r),e.closeTransactionModal(),e.$nextTick(function(){e.createCharts()}),t.n=7;break;case 6:t.p=6,a=t.v,console.error("Erreur sauvegarde transaction:",a),alert("Erreur lors de la sauvegarde de la transaction");case 7:return t.p=7,e.saving=!1,t.f(7);case 8:return t.a(2)}},t,null,[[2,6,7,8]])}))()},deleteTransaction:function(e){var t=this;return dr(sr().m(function n(){var r;return sr().w(function(n){for(;;)switch(n.p=n.n){case 0:if(confirm('Supprimer la transaction "'.concat(e.description,'" ?'))){n.n=1;break}return n.a(2);case 1:return n.p=1,n.n=2,fetch("/api/transactions/".concat(e.id),{method:"DELETE"});case 2:t.transactions=t.transactions.filter(function(t){return t.id!==e.id}),t.$nextTick(function(){t.createCharts()}),n.n=4;break;case 3:n.p=3,r=n.v,console.error("Erreur suppression transaction:",r);case 4:return n.a(2)}},n,null,[[1,3]])}))()},saveBudgetConfig:function(){var e=this;localStorage.setItem("budgetConfig",JSON.stringify(this.budgetConfig)),this.closeBudgetModal(),this.$nextTick(function(){e.createCharts()})},closeTransactionModal:function(){this.showAddTransactionModal=!1,this.saving=!1,this.transactionForm={type:"expense",description:"",amount:0,date:(new Date).toISOString().split("T")[0],category:"",notes:""}},closeBudgetModal:function(){this.showBudgetModal=!1},createCharts:function(){this.createExpenseChart(),this.createMonthlyChart()},createExpenseChart:function(){var e=this.$refs.expenseChart;if(e){this.charts.expense&&this.charts.expense.destroy();var t={};this.transactions.filter(function(e){return"expense"===e.type}).forEach(function(e){t[e.category]=(t[e.category]||0)+e.amount});var n=Object.keys(t),r=Object.values(t);this.charts.expense=new ht.Ay(e,{type:"doughnut",data:{labels:n,datasets:[{data:r,backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(16, 185, 129, 0.8)","rgba(59, 130, 246, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)","rgba(156, 163, 175, 0.8)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12}}}}}})}},createMonthlyChart:function(){var e=this.$refs.monthlyChart;if(e){this.charts.monthly&&this.charts.monthly.destroy();var t={};this.transactions.forEach(function(e){var n=new Date(e.date).toLocaleDateString("fr-FR",{month:"short",year:"numeric"});t[n]||(t[n]={revenue:0,expense:0}),"revenue"===e.type?t[n].revenue+=e.amount:t[n].expense+=e.amount});var n=Object.keys(t).sort(),r=n.map(function(e){return t[e].revenue}),a=n.map(function(e){return t[e].expense});this.charts.monthly=new ht.Ay(e,{type:"bar",data:{labels:n,datasets:[{label:"Revenus",data:r,backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:2,borderRadius:8},{label:"DÃ©penses",data:a,backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2,borderRadius:8}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}}})}},formatCurrency:function(e){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e)},formatDate:function(e){return new Date(e).toLocaleDateString("fr-FR")},getBudgetPercentage:function(e){return 0===e.planned?0:Math.min(100,Math.round(e.spent/e.planned*100))},getBudgetProgressClass:function(e){var t=this.getBudgetPercentage(e);return t>=90?"danger":t>=75?"warning":"success"}}},pr=(0,_e.A)(mr,[["render",function(e,t,n,a,o,i){var c=(0,r.resolveComponent)("Button"),s=(0,r.resolveComponent)("Card"),l=(0,r.resolveComponent)("Badge"),u=(0,r.resolveComponent)("Modal");return(0,r.openBlock)(),(0,r.createElementBlock)("div",un,[(0,r.createCommentVNode)(" Header "),(0,r.createElementVNode)("div",dn,[t[13]||(t[13]=(0,r.createElementVNode)("div",{class:"header-title"},[(0,r.createElementVNode)("h2",null,"ðŸ’° Gestion FinanciÃ¨re"),(0,r.createElementVNode)("p",{class:"subtitle"},"Pilote ton budget et ta trÃ©sorerie")],-1)),(0,r.createElementVNode)("div",mn,[(0,r.createVNode)(c,{onClick:t[0]||(t[0]=function(e){return o.showAddTransactionModal=!0}),size:"lg"},{default:(0,r.withCtx)(function(){return sn(t[12]||(t[12]=[(0,r.createElementVNode)("span",{class:"icon"},"âž•",-1),(0,r.createTextVNode)(" Nouvelle Transaction ",-1)]))}),_:1})])]),(0,r.createCommentVNode)(" KPI Financiers "),(0,r.createElementVNode)("div",pn,[(0,r.createVNode)(s,{class:"kpi-card revenue-card",hoverable:""},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",fn,[t[15]||(t[15]=(0,r.createElementVNode)("div",{class:"kpi-icon"},"ðŸ“ˆ",-1)),(0,r.createElementVNode)("div",vn,[t[14]||(t[14]=(0,r.createElementVNode)("span",{class:"kpi-label"},"Total Revenus",-1)),(0,r.createElementVNode)("span",hn,(0,r.toDisplayString)(i.formatCurrency(i.financialStats.totalRevenue)),1)])])]}),_:1}),(0,r.createVNode)(s,{class:"kpi-card expense-card",hoverable:""},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",gn,[t[17]||(t[17]=(0,r.createElementVNode)("div",{class:"kpi-icon"},"ðŸ“‰",-1)),(0,r.createElementVNode)("div",yn,[t[16]||(t[16]=(0,r.createElementVNode)("span",{class:"kpi-label"},"Total DÃ©penses",-1)),(0,r.createElementVNode)("span",Vn,(0,r.toDisplayString)(i.formatCurrency(i.financialStats.totalExpense)),1)])])]}),_:1}),(0,r.createVNode)(s,{class:"kpi-card balance-card",hoverable:""},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Nn,[t[19]||(t[19]=(0,r.createElementVNode)("div",{class:"kpi-icon"},"ðŸ’µ",-1)),(0,r.createElementVNode)("div",En,[t[18]||(t[18]=(0,r.createElementVNode)("span",{class:"kpi-label"},"Solde",-1)),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["kpi-value",i.balanceClass])},(0,r.toDisplayString)(i.formatCurrency(i.financialStats.balance)),3)])])]}),_:1}),(0,r.createVNode)(s,{class:"kpi-card budget-card",hoverable:""},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",bn,[t[21]||(t[21]=(0,r.createElementVNode)("div",{class:"kpi-icon"},"ðŸŽ¯",-1)),(0,r.createElementVNode)("div",Cn,[t[20]||(t[20]=(0,r.createElementVNode)("span",{class:"kpi-label"},"Budget Restant",-1)),(0,r.createElementVNode)("span",wn,(0,r.toDisplayString)(i.formatCurrency(i.financialStats.budgetRemaining)),1)])]),(0,r.createElementVNode)("div",kn,[(0,r.createElementVNode)("div",{class:"kpi-progress-fill",style:(0,r.normalizeStyle)({width:i.budgetUsedPercentage+"%"})},null,4)])]}),_:1})]),(0,r.createCommentVNode)(" Graphiques "),(0,r.createElementVNode)("div",Dn,[(0,r.createVNode)(s,{class:"chart-card",padding:"none"},{default:(0,r.withCtx)(function(){return[t[22]||(t[22]=(0,r.createElementVNode)("div",{class:"chart-header-custom"},[(0,r.createElementVNode)("h3",{class:"chart-title"},"ðŸ“Š RÃ©partition des DÃ©penses")],-1)),(0,r.createElementVNode)("div",Sn,[(0,r.createElementVNode)("canvas",Bn,null,512)])]}),_:1}),(0,r.createVNode)(s,{class:"chart-card",padding:"none"},{default:(0,r.withCtx)(function(){return[t[23]||(t[23]=(0,r.createElementVNode)("div",{class:"chart-header-custom"},[(0,r.createElementVNode)("h3",{class:"chart-title"},"ðŸ“ˆ Ã‰volution Mensuelle")],-1)),(0,r.createElementVNode)("div",xn,[(0,r.createElementVNode)("canvas",Tn,null,512)])]}),_:1})]),(0,r.createCommentVNode)(" Filtres et Transactions "),(0,r.createVNode)(s,{class:"transactions-section"},{header:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",_n,[t[26]||(t[26]=(0,r.createElementVNode)("h3",{class:"chart-title"},"ðŸ“‹ Historique des Transactions",-1)),(0,r.createElementVNode)("div",An,[(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.filterType=e}),class:"filter-select"},sn(t[24]||(t[24]=[(0,r.createElementVNode)("option",{value:"all"},"Tous types",-1),(0,r.createElementVNode)("option",{value:"revenue"},"Revenus",-1),(0,r.createElementVNode)("option",{value:"expense"},"DÃ©penses",-1)])),512),[[r.vModelSelect,o.filterType]]),(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.filterCategory=e}),class:"filter-select"},[t[25]||(t[25]=(0,r.createElementVNode)("option",{value:"all"},"Toutes catÃ©gories",-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.categories,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e,value:e},(0,r.toDisplayString)(e),9,On)}),128))],512),[[r.vModelSelect,o.filterCategory]])])])]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Pn,[0===i.filteredTransactions.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Mn,[t[28]||(t[28]=(0,r.createElementVNode)("span",{class:"empty-icon"},"ðŸ’¸",-1)),t[29]||(t[29]=(0,r.createElementVNode)("p",null,"Aucune transaction pour le moment",-1)),(0,r.createVNode)(c,{onClick:t[3]||(t[3]=function(e){return o.showAddTransactionModal=!0}),variant:"primary"},{default:(0,r.withCtx)(function(){return sn(t[27]||(t[27]=[(0,r.createTextVNode)(" Ajouter une transaction ",-1)]))}),_:1})])):(0,r.createCommentVNode)("v-if",!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.filteredTransactions,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.id,class:(0,r.normalizeClass)(["transaction-item",e.type])},[(0,r.createElementVNode)("div",jn,(0,r.toDisplayString)("revenue"===e.type?"ðŸ“ˆ":"ðŸ“‰"),1),(0,r.createElementVNode)("div",Ln,[(0,r.createElementVNode)("div",Fn,[(0,r.createElementVNode)("h4",null,(0,r.toDisplayString)(e.description),1),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["transaction-amount",e.type])},(0,r.toDisplayString)("revenue"===e.type?"+":"-")+(0,r.toDisplayString)(i.formatCurrency(e.amount)),3)]),(0,r.createElementVNode)("div",In,[(0,r.createVNode)(l,{variant:"gray",size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(e.category),1)]}),_:2},1024),(0,r.createElementVNode)("span",zn,(0,r.toDisplayString)(i.formatDate(e.date)),1)])]),(0,r.createVNode)(c,{onClick:function(t){return i.deleteTransaction(e)},variant:"danger",size:"sm"},{default:(0,r.withCtx)(function(){return sn(t[30]||(t[30]=[(0,r.createTextVNode)(" ðŸ—‘ï¸ ",-1)]))}),_:1},8,["onClick"])],2)}),128))])]}),_:1}),(0,r.createCommentVNode)(" Budget PrÃ©visionnel "),(0,r.createVNode)(s,{class:"budget-section"},{header:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Un,[t[32]||(t[32]=(0,r.createElementVNode)("h3",{class:"chart-title"},"ðŸŽ¯ Budget PrÃ©visionnel",-1)),(0,r.createVNode)(c,{onClick:t[4]||(t[4]=function(e){return o.showBudgetModal=!0}),variant:"ghost",size:"sm"},{default:(0,r.withCtx)(function(){return sn(t[31]||(t[31]=[(0,r.createTextVNode)(" âš™ï¸ Configurer ",-1)]))}),_:1})])]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Gn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.budgetCategories,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.name,class:"budget-category"},[(0,r.createElementVNode)("div",Rn,[(0,r.createElementVNode)("span",$n,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)("span",qn,[(0,r.createElementVNode)("span",Kn,(0,r.toDisplayString)(i.formatCurrency(e.spent)),1),t[33]||(t[33]=(0,r.createElementVNode)("span",{class:"separator"},"/",-1)),(0,r.createElementVNode)("span",Qn,(0,r.toDisplayString)(i.formatCurrency(e.planned)),1)])]),(0,r.createElementVNode)("div",Wn,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["budget-progress-fill",i.getBudgetProgressClass(e)]),style:(0,r.normalizeStyle)({width:i.getBudgetPercentage(e)+"%"})},null,6)]),(0,r.createElementVNode)("span",Hn,(0,r.toDisplayString)(i.getBudgetPercentage(e))+"%",1)])}),128))])]}),_:1}),(0,r.createCommentVNode)(" Modal Nouvelle Transaction "),(0,r.createVNode)(u,{show:o.showAddTransactionModal,title:"Nouvelle Transaction",onClose:i.closeTransactionModal,size:"md"},{footer:(0,r.withCtx)(function(){return[(0,r.createVNode)(c,{onClick:i.closeTransactionModal,variant:"secondary"},{default:(0,r.withCtx)(function(){return sn(t[42]||(t[42]=[(0,r.createTextVNode)(" Annuler ",-1)]))}),_:1},8,["onClick"]),(0,r.createVNode)(c,{onClick:i.saveTransaction,loading:o.saving,disabled:o.saving},{default:(0,r.withCtx)(function(){return sn(t[43]||(t[43]=[(0,r.createTextVNode)(" ðŸ’¾ Enregistrer ",-1)]))}),_:1},8,["onClick","loading","disabled"])]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("form",{onSubmit:t[11]||(t[11]=(0,r.withModifiers)(function(){return i.saveTransaction&&i.saveTransaction.apply(i,arguments)},["prevent"])),class:"transaction-form"},[(0,r.createElementVNode)("div",Jn,[t[35]||(t[35]=(0,r.createElementVNode)("label",{class:"form-label"},[(0,r.createTextVNode)("Type "),(0,r.createElementVNode)("span",{class:"required"},"*")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.transactionForm.type=e}),class:"form-input",required:""},sn(t[34]||(t[34]=[(0,r.createElementVNode)("option",{value:"revenue"},"ðŸ“ˆ Revenu",-1),(0,r.createElementVNode)("option",{value:"expense"},"ðŸ“‰ DÃ©pense",-1)])),512),[[r.vModelSelect,o.transactionForm.type]])]),(0,r.createElementVNode)("div",Yn,[t[36]||(t[36]=(0,r.createElementVNode)("label",{class:"form-label"},[(0,r.createTextVNode)("Description "),(0,r.createElementVNode)("span",{class:"required"},"*")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.transactionForm.description=e}),type:"text",class:"form-input",placeholder:"Ex: Achat matÃ©riel informatique",required:""},null,512),[[r.vModelText,o.transactionForm.description]])]),(0,r.createElementVNode)("div",Zn,[(0,r.createElementVNode)("div",Xn,[t[37]||(t[37]=(0,r.createElementVNode)("label",{class:"form-label"},[(0,r.createTextVNode)("Montant (â‚¬) "),(0,r.createElementVNode)("span",{class:"required"},"*")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.transactionForm.amount=e}),type:"number",step:"0.01",class:"form-input",placeholder:"0.00",required:""},null,512),[[r.vModelText,o.transactionForm.amount,void 0,{number:!0}]])]),(0,r.createElementVNode)("div",er,[t[38]||(t[38]=(0,r.createElementVNode)("label",{class:"form-label"},[(0,r.createTextVNode)("Date "),(0,r.createElementVNode)("span",{class:"required"},"*")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.transactionForm.date=e}),type:"date",class:"form-input",required:""},null,512),[[r.vModelText,o.transactionForm.date]])])]),(0,r.createElementVNode)("div",tr,[t[40]||(t[40]=(0,r.createElementVNode)("label",{class:"form-label"},[(0,r.createTextVNode)("CatÃ©gorie "),(0,r.createElementVNode)("span",{class:"required"},"*")],-1)),(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.transactionForm.category=e}),class:"form-input",required:""},[t[39]||(t[39]=(0,r.createElementVNode)("option",{value:""},"SÃ©lectionner...",-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.categories,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e,value:e},(0,r.toDisplayString)(e),9,nr)}),128))],512),[[r.vModelSelect,o.transactionForm.category]])]),(0,r.createElementVNode)("div",rr,[t[41]||(t[41]=(0,r.createElementVNode)("label",{class:"form-label"},"Notes",-1)),(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return o.transactionForm.notes=e}),rows:"3",class:"form-input",placeholder:"Informations complÃ©mentaires..."},null,512),[[r.vModelText,o.transactionForm.notes]])])],32)]}),_:1},8,["show","onClose"]),(0,r.createCommentVNode)(" Modal Configuration Budget "),(0,r.createVNode)(u,{show:o.showBudgetModal,title:"Configuration du Budget",onClose:i.closeBudgetModal,size:"lg"},{footer:(0,r.withCtx)(function(){return[(0,r.createVNode)(c,{onClick:i.closeBudgetModal,variant:"secondary"},{default:(0,r.withCtx)(function(){return sn(t[45]||(t[45]=[(0,r.createTextVNode)(" Annuler ",-1)]))}),_:1},8,["onClick"]),(0,r.createVNode)(c,{onClick:i.saveBudgetConfig},{default:(0,r.withCtx)(function(){return sn(t[46]||(t[46]=[(0,r.createTextVNode)(" ðŸ’¾ Enregistrer ",-1)]))}),_:1},8,["onClick"])]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",ar,[t[44]||(t[44]=(0,r.createElementVNode)("p",{class:"budget-intro"}," DÃ©finis tes objectifs budgÃ©taires par catÃ©gorie pour mieux suivre tes dÃ©penses. ",-1)),(0,r.createElementVNode)("div",or,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.categories,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e,class:"budget-config-item"},[(0,r.createElementVNode)("label",ir,(0,r.toDisplayString)(e),1),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":function(t){return o.budgetConfig[e]=t},type:"number",step:"100",class:"form-input",placeholder:"0"},null,8,cr),[[r.vModelText,o.budgetConfig[e],void 0,{number:!0}]])])}),128))])])]}),_:1},8,["show","onClose"])])}],["__scopeId","data-v-6b434610"]]),fr=pr,vr={name:"App",components:{EtapesKanban:Oe,Dashboard:bt,Calendrier:cn,Finances:fr},data:function(){return{currentView:"home"}},methods:{navigateTo:function(e){this.currentView=e}}},hr=(0,_e.A)(vr,[["render",function(e,t,n,o,f,v){var h=(0,r.resolveComponent)("UserMenu"),g=(0,r.resolveComponent)("Card"),y=(0,r.resolveComponent)("Dashboard"),V=(0,r.resolveComponent)("EtapesKanban"),N=(0,r.resolveComponent)("Calendrier"),E=(0,r.resolveComponent)("Finances");return(0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createCommentVNode)(" Header avec navigation "),(0,r.createElementVNode)("header",c,[(0,r.createElementVNode)("div",s,[t[9]||(t[9]=(0,r.createElementVNode)("div",{class:"header-brand"},[(0,r.createElementVNode)("h1",null,"Business Manager"),(0,r.createElementVNode)("p",{class:"header-subtitle"},"Gestion de ton projet entrepreneurial - Mon Assistant NumÃ©rique")],-1)),(0,r.createElementVNode)("nav",l,[(0,r.createElementVNode)("button",{onClick:t[0]||(t[0]=function(e){return f.currentView="home"}),class:(0,r.normalizeClass)(["nav-button",{active:"home"===f.currentView}])}," ðŸ  Accueil ",2),(0,r.createElementVNode)("button",{onClick:t[1]||(t[1]=function(e){return f.currentView="dashboard"}),class:(0,r.normalizeClass)(["nav-button",{active:"dashboard"===f.currentView}])}," ðŸ“Š Dashboard ",2),(0,r.createElementVNode)("button",{onClick:t[2]||(t[2]=function(e){return f.currentView="kanban"}),class:(0,r.normalizeClass)(["nav-button",{active:"kanban"===f.currentView}])}," ðŸ“‹ Suivi des Ã‰tapes ",2),(0,r.createElementVNode)("button",{onClick:t[3]||(t[3]=function(e){return f.currentView="calendrier"}),class:(0,r.normalizeClass)(["nav-button",{active:"calendrier"===f.currentView}])}," ðŸ“… Calendrier ",2),(0,r.createElementVNode)("button",{onClick:t[4]||(t[4]=function(e){return f.currentView="finances"}),class:(0,r.normalizeClass)(["nav-button",{active:"finances"===f.currentView}])}," ðŸ’° Finances ",2)]),(0,r.createVNode)(h,{onNavigate:v.navigateTo},null,8,["onNavigate"])])]),(0,r.createCommentVNode)(" Contenu principal "),(0,r.createElementVNode)("main",u,[(0,r.createCommentVNode)(" Vue Accueil "),"home"===f.currentView?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,[(0,r.createVNode)(g,{class:"welcome-card"},{default:(0,r.withCtx)(function(){return a(t[10]||(t[10]=[(0,r.createElementVNode)("h2",null,"ðŸ‘‹ Bienvenue sur ton Business Manager",-1),(0,r.createElementVNode)("p",null,"Ton tableau de bord entrepreneurial complet est prÃªt !",-1),(0,r.createElementVNode)("div",{class:"welcome-status"}," âœ… Application V1 complÃ¨te avec 5 modules fonctionnels ",-1)]))}),_:1}),(0,r.createElementVNode)("div",m,[(0,r.createVNode)(g,{class:"feature-card",hoverable:"",onClick:t[5]||(t[5]=function(e){return f.currentView="dashboard"})},{default:(0,r.withCtx)(function(){return a(t[11]||(t[11]=[(0,r.createElementVNode)("div",{class:"feature-icon"},"ðŸ“Š",-1),(0,r.createElementVNode)("h3",null,"Dashboard",-1),(0,r.createElementVNode)("p",null,"Vue d'ensemble avec graphiques et statistiques",-1)]))}),_:1}),(0,r.createVNode)(g,{class:"feature-card",hoverable:"",onClick:t[6]||(t[6]=function(e){return f.currentView="kanban"})},{default:(0,r.withCtx)(function(){return a(t[12]||(t[12]=[(0,r.createElementVNode)("div",{class:"feature-icon"},"ðŸ“‹",-1),(0,r.createElementVNode)("h3",null,"Suivi des Ã‰tapes",-1),(0,r.createElementVNode)("p",null,"Kanban avec drag & drop et filtres avancÃ©s",-1)]))}),_:1}),(0,r.createVNode)(g,{class:"feature-card",hoverable:"",onClick:t[7]||(t[7]=function(e){return f.currentView="calendrier"})},{default:(0,r.withCtx)(function(){return a(t[13]||(t[13]=[(0,r.createElementVNode)("div",{class:"feature-icon"},"ðŸ“…",-1),(0,r.createElementVNode)("h3",null,"Calendrier",-1),(0,r.createElementVNode)("p",null,"Visualise tes Ã©chÃ©ances et planifie ton projet",-1)]))}),_:1}),(0,r.createVNode)(g,{class:"feature-card",hoverable:"",onClick:t[8]||(t[8]=function(e){return f.currentView="finances"})},{default:(0,r.withCtx)(function(){return a(t[14]||(t[14]=[(0,r.createElementVNode)("div",{class:"feature-icon"},"ðŸ’°",-1),(0,r.createElementVNode)("h3",null,"Finances",-1),(0,r.createElementVNode)("p",null,"Budget, trÃ©sorerie et suivi des dÃ©penses",-1)]))}),_:1})]),(0,r.createCommentVNode)(" Stats rapides "),(0,r.createElementVNode)("div",p,[(0,r.createVNode)(g,{class:"home-stat-card"},{default:(0,r.withCtx)(function(){return a(t[15]||(t[15]=[(0,r.createElementVNode)("div",{class:"stat-content"},[(0,r.createElementVNode)("div",{class:"stat-icon"},"ðŸŽ¯"),(0,r.createElementVNode)("div",{class:"stat-details"},[(0,r.createElementVNode)("span",{class:"stat-value"},"V1"),(0,r.createElementVNode)("span",{class:"stat-label"},"Version Actuelle")])],-1)]))}),_:1}),(0,r.createVNode)(g,{class:"home-stat-card"},{default:(0,r.withCtx)(function(){return a(t[16]||(t[16]=[(0,r.createElementVNode)("div",{class:"stat-content"},[(0,r.createElementVNode)("div",{class:"stat-icon"},"ðŸš€"),(0,r.createElementVNode)("div",{class:"stat-details"},[(0,r.createElementVNode)("span",{class:"stat-value"},"5"),(0,r.createElementVNode)("span",{class:"stat-label"},"Modules Actifs")])],-1)]))}),_:1}),(0,r.createVNode)(g,{class:"home-stat-card"},{default:(0,r.withCtx)(function(){return a(t[17]||(t[17]=[(0,r.createElementVNode)("div",{class:"stat-content"},[(0,r.createElementVNode)("div",{class:"stat-icon"},"âš¡"),(0,r.createElementVNode)("div",{class:"stat-details"},[(0,r.createElementVNode)("span",{class:"stat-value"},"100%"),(0,r.createElementVNode)("span",{class:"stat-label"},"OpÃ©rationnel")])],-1)]))}),_:1})])])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Vue Dashboard "),"dashboard"===f.currentView?((0,r.openBlock)(),(0,r.createBlock)(y,{key:1,onNavigate:v.navigateTo},null,8,["onNavigate"])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Vue Kanban "),"kanban"===f.currentView?((0,r.openBlock)(),(0,r.createBlock)(V,{key:2})):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Vue Calendrier "),"calendrier"===f.currentView?((0,r.openBlock)(),(0,r.createBlock)(N,{key:3,onNavigate:v.navigateTo},null,8,["onNavigate"])):(0,r.createCommentVNode)("v-if",!0),(0,r.createCommentVNode)(" Vue Finances "),"finances"===f.currentView?((0,r.openBlock)(),(0,r.createBlock)(E,{key:4})):(0,r.createCommentVNode)("v-if",!0)]),(0,r.createCommentVNode)(" Footer "),t[18]||(t[18]=(0,r.createElementVNode)("footer",{class:"app-footer"},[(0,r.createElementVNode)("div",{class:"footer-content"},[(0,r.createElementVNode)("p",null,"Â© 2026 Business Manager - Mon Assistant NumÃ©rique"),(0,r.createElementVNode)("p",{class:"footer-version"},"Version 1.0 - Symfony 7.2 + Vue.js 3")])],-1))])}]]);var gr=n(8199),yr=n(8463);function Vr(e){return function(e){if(Array.isArray(e))return Nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Nr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Er={class:"user-menu"},br={class:"user-avatar"},Cr={class:"user-details"},wr={class:"user-name"},kr={class:"user-email"},Dr={class:"dropdown-header"},Sr={class:"user-avatar large"},Br={class:"user-info-full"};function xr(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return Tr(l,"_invoke",function(n,r,a){var o,c,s,l=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,s=e,m.n=n,i}};function p(n,r){for(c=n,s=r,t=0;!d&&l&&!a&&t<u.length;t++){var a,o=u[t],p=m.p,f=o[2];n>3?(a=f===r)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(c=0,m.v=r,m.n=o[1]):p<f&&(a=n<3||o[0]>r||r>f)&&(o[4]=n,o[5]=r,m.n=f,c=0))}if(a||n>1)return i;throw d=!0,r}return function(a,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,s=f;(t=c<2?e:s)||!d;){o||(c?c<3?(c>1&&(m.n=-1),p(c,s)):m.n=s:m.v=s);try{if(l=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(d=m.n<0)?s:n.call(r,m))!==i)break}catch(t){o=e,c=1,s=t}finally{l=1}}return{value:t,done:d}}}(n,a,o),!0),l}var i={};function c(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Tr(t={},r,function(){return this}),t),d=l.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Tr(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,Tr(d,"constructor",l),Tr(l,"constructor",s),s.displayName="GeneratorFunction",Tr(l,a,"GeneratorFunction"),Tr(d),Tr(d,a,"Generator"),Tr(d,r,function(){return this}),Tr(d,"toString",function(){return"[object Generator]"}),(xr=function(){return{w:o,m}})()}function Tr(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Tr=function(e,t,n,r){function o(t,n){Tr(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Tr(e,t,n,r)}function _r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}const Ar={name:"UserMenu",data:function(){return{user:null,showDropdown:!1}},computed:{userInitials:function(){if(!this.user)return"";var e=this.user.prenom||"",t=this.user.nom||"";return(e.charAt(0)+t.charAt(0)).toUpperCase()}},mounted:function(){this.loadUser(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount:function(){document.removeEventListener("click",this.handleClickOutside)},methods:{loadUser:function(){var e,t=this;return(e=xr().m(function e(){var n,r,a;return xr().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/api/auth/user");case 1:if(!(n=e.v).ok){e.n=3;break}return e.n=2,n.json();case 2:r=e.v,t.user=r.user;case 3:e.n=5;break;case 4:e.p=4,a=e.v,console.error("Erreur chargement utilisateur:",a);case 5:return e.a(2)}},e,null,[[0,4]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){_r(o,r,a,i,c,"next",e)}function c(e){_r(o,r,a,i,c,"throw",e)}i(void 0)})})()},toggleDropdown:function(){this.showDropdown=!this.showDropdown},closeDropdown:function(){this.showDropdown=!1},handleClickOutside:function(e){this.$el.contains(e.target)||this.closeDropdown()},goToProfile:function(){this.$emit("navigate","profile"),this.closeDropdown()},goToSettings:function(){this.$emit("navigate","settings"),this.closeDropdown()}}},Or=(0,_e.A)(Ar,[["render",function(e,t,n,a,o,i){return(0,r.openBlock)(),(0,r.createElementBlock)("div",Er,[o.user?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"user-info",onClick:t[0]||(t[0]=function(){return i.toggleDropdown&&i.toggleDropdown.apply(i,arguments)})},[(0,r.createElementVNode)("div",br,(0,r.toDisplayString)(i.userInitials),1),(0,r.createElementVNode)("div",Cr,[(0,r.createElementVNode)("span",wr,(0,r.toDisplayString)(o.user.prenom)+" "+(0,r.toDisplayString)(o.user.nom),1),(0,r.createElementVNode)("span",kr,(0,r.toDisplayString)(o.user.email),1)]),t[5]||(t[5]=(0,r.createElementVNode)("span",{class:"dropdown-icon"},"â–¼",-1))])):(0,r.createCommentVNode)("v-if",!0),o.showDropdown?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"dropdown-menu",onClick:t[3]||(t[3]=(0,r.withModifiers)(function(){},["stop"]))},[(0,r.createElementVNode)("div",Dr,[(0,r.createElementVNode)("div",Sr,(0,r.toDisplayString)(i.userInitials),1),(0,r.createElementVNode)("div",Br,[(0,r.createElementVNode)("strong",null,(0,r.toDisplayString)(o.user.prenom)+" "+(0,r.toDisplayString)(o.user.nom),1),(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(o.user.email),1)])]),t[8]||(t[8]=(0,r.createElementVNode)("div",{class:"dropdown-divider"},null,-1)),(0,r.createElementVNode)("a",{href:"#",onClick:t[1]||(t[1]=(0,r.withModifiers)(function(){return i.goToProfile&&i.goToProfile.apply(i,arguments)},["prevent"])),class:"dropdown-item"},Vr(t[6]||(t[6]=[(0,r.createElementVNode)("span",{class:"item-icon"},"ðŸ‘¤",-1),(0,r.createElementVNode)("span",null,"Mon profil",-1)]))),(0,r.createElementVNode)("a",{href:"#",onClick:t[2]||(t[2]=(0,r.withModifiers)(function(){return i.goToSettings&&i.goToSettings.apply(i,arguments)},["prevent"])),class:"dropdown-item"},Vr(t[7]||(t[7]=[(0,r.createElementVNode)("span",{class:"item-icon"},"âš™ï¸",-1),(0,r.createElementVNode)("span",null,"ParamÃ¨tres",-1)]))),t[9]||(t[9]=(0,r.createElementVNode)("div",{class:"dropdown-divider"},null,-1)),t[10]||(t[10]=(0,r.createElementVNode)("a",{href:"/logout",class:"dropdown-item logout"},[(0,r.createElementVNode)("span",{class:"item-icon"},"ðŸšª"),(0,r.createElementVNode)("span",null,"DÃ©connexion")],-1))])):(0,r.createCommentVNode)("v-if",!0),o.showDropdown?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:"dropdown-overlay",onClick:t[4]||(t[4]=function(){return i.closeDropdown&&i.closeDropdown.apply(i,arguments)})})):(0,r.createCommentVNode)("v-if",!0)])}],["__scopeId","data-v-b653f6b0"]]),Pr=Or;function Mr(e){return function(e){if(Array.isArray(e))return jr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Lr={key:0,class:"offline-banner"};const Fr={name:"OfflineIndicator",data:function(){return{isOnline:navigator.onLine}},mounted:function(){window.addEventListener("online",this.updateOnlineStatus),window.addEventListener("offline",this.updateOnlineStatus)},beforeUnmount:function(){window.removeEventListener("online",this.updateOnlineStatus),window.removeEventListener("offline",this.updateOnlineStatus)},methods:{updateOnlineStatus:function(){this.isOnline=navigator.onLine}}},Ir=(0,_e.A)(Fr,[["render",function(e,t,n,a,o,i){return(0,r.openBlock)(),(0,r.createBlock)(r.Transition,{name:"slide-down"},{default:(0,r.withCtx)(function(){return[o.isOnline?(0,r.createCommentVNode)("v-if",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",Lr,Mr(t[0]||(t[0]=[(0,r.createElementVNode)("div",{class:"offline-content"},[(0,r.createElementVNode)("span",{class:"offline-icon"},"ðŸ“¡"),(0,r.createElementVNode)("span",{class:"offline-text"},"Vous Ãªtes hors ligne")],-1)]))))]}),_:1})}],["__scopeId","data-v-205c283e"]]);function zr(e){return function(e){if(Array.isArray(e))return Ur(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ur(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ur(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gr={class:"bottom-nav show-mobile"};const Rr={name:"BottomNav",props:{currentView:{type:String,required:!0}}},$r=(0,_e.A)(Rr,[["render",function(e,t,n,a,o,i){return(0,r.openBlock)(),(0,r.createElementBlock)("nav",Gr,[(0,r.createElementVNode)("button",{onClick:t[0]||(t[0]=function(t){return e.$emit("navigate","home")}),class:(0,r.normalizeClass)(["nav-item",{active:"home"===n.currentView}])},zr(t[5]||(t[5]=[(0,r.createElementVNode)("span",{class:"nav-icon"},"ðŸ ",-1),(0,r.createElementVNode)("span",{class:"nav-label"},"Accueil",-1)])),2),(0,r.createElementVNode)("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("navigate","dashboard")}),class:(0,r.normalizeClass)(["nav-item",{active:"dashboard"===n.currentView}])},zr(t[6]||(t[6]=[(0,r.createElementVNode)("span",{class:"nav-icon"},"ðŸ“Š",-1),(0,r.createElementVNode)("span",{class:"nav-label"},"Dashboard",-1)])),2),(0,r.createElementVNode)("button",{onClick:t[2]||(t[2]=function(t){return e.$emit("navigate","kanban")}),class:(0,r.normalizeClass)(["nav-item",{active:"kanban"===n.currentView}])},zr(t[7]||(t[7]=[(0,r.createElementVNode)("span",{class:"nav-icon"},"ðŸ“‹",-1),(0,r.createElementVNode)("span",{class:"nav-label"},"Ã‰tapes",-1)])),2),(0,r.createElementVNode)("button",{onClick:t[3]||(t[3]=function(t){return e.$emit("navigate","calendrier")}),class:(0,r.normalizeClass)(["nav-item",{active:"calendrier"===n.currentView}])},zr(t[8]||(t[8]=[(0,r.createElementVNode)("span",{class:"nav-icon"},"ðŸ“…",-1),(0,r.createElementVNode)("span",{class:"nav-label"},"Calendrier",-1)])),2),(0,r.createElementVNode)("button",{onClick:t[4]||(t[4]=function(t){return e.$emit("navigate","finances")}),class:(0,r.normalizeClass)(["nav-item",{active:"finances"===n.currentView}])},zr(t[9]||(t[9]=[(0,r.createElementVNode)("span",{class:"nav-icon"},"ðŸ’°",-1),(0,r.createElementVNode)("span",{class:"nav-label"},"Finances",-1)])),2)])}],["__scopeId","data-v-7778d931"]]);function qr(e){return function(e){if(Array.isArray(e))return Kr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Qr={key:0,class:"install-prompt"},Wr={class:"install-actions"};n(9089),n(6031);function Hr(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return Jr(l,"_invoke",function(n,r,a){var o,c,s,l=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,s=e,m.n=n,i}};function p(n,r){for(c=n,s=r,t=0;!d&&l&&!a&&t<u.length;t++){var a,o=u[t],p=m.p,f=o[2];n>3?(a=f===r)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(c=0,m.v=r,m.n=o[1]):p<f&&(a=n<3||o[0]>r||r>f)&&(o[4]=n,o[5]=r,m.n=f,c=0))}if(a||n>1)return i;throw d=!0,r}return function(a,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,s=f;(t=c<2?e:s)||!d;){o||(c?c<3?(c>1&&(m.n=-1),p(c,s)):m.n=s:m.v=s);try{if(l=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(d=m.n<0)?s:n.call(r,m))!==i)break}catch(t){o=e,c=1,s=t}finally{l=1}}return{value:t,done:d}}}(n,a,o),!0),l}var i={};function c(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Jr(t={},r,function(){return this}),t),d=l.prototype=c.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Jr(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,Jr(d,"constructor",l),Jr(l,"constructor",s),s.displayName="GeneratorFunction",Jr(l,a,"GeneratorFunction"),Jr(d),Jr(d,a,"Generator"),Jr(d,r,function(){return this}),Jr(d,"toString",function(){return"[object Generator]"}),(Hr=function(){return{w:o,m}})()}function Jr(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Jr=function(e,t,n,r){function o(t,n){Jr(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Jr(e,t,n,r)}function Yr(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}const Zr={name:"InstallPrompt",data:function(){return{deferredPrompt:null,showInstallPrompt:!1}},mounted:function(){window.addEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt),window.matchMedia("(display-mode: standalone)").matches&&console.log("App dÃ©jÃ  installÃ©e")},beforeUnmount:function(){window.removeEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)},methods:{handleBeforeInstallPrompt:function(e){var t=this;e.preventDefault(),this.deferredPrompt=e,setTimeout(function(){t.showInstallPrompt=!0},5e3)},install:function(){var e,t=this;return(e=Hr().m(function e(){var n,r;return Hr().w(function(e){for(;;)switch(e.n){case 0:if(t.deferredPrompt){e.n=1;break}return e.a(2);case 1:return t.deferredPrompt.prompt(),e.n=2,t.deferredPrompt.userChoice;case 2:n=e.v,r=n.outcome,console.log("User response: ".concat(r)),t.deferredPrompt=null,t.showInstallPrompt=!1;case 3:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Yr(o,r,a,i,c,"next",e)}function c(e){Yr(o,r,a,i,c,"throw",e)}i(void 0)})})()},dismiss:function(){this.showInstallPrompt=!1,localStorage.setItem("installPromptDismissed",Date.now())}}},Xr=(0,_e.A)(Zr,[["render",function(e,t,n,a,o,i){var c=(0,r.resolveComponent)("Button"),s=(0,r.resolveComponent)("Card");return o.showInstallPrompt?((0,r.openBlock)(),(0,r.createElementBlock)("div",Qr,[(0,r.createVNode)(s,{class:"install-card"},{default:(0,r.withCtx)(function(){return[t[2]||(t[2]=(0,r.createElementVNode)("div",{class:"install-content"},[(0,r.createElementVNode)("div",{class:"install-icon"},"ðŸ“±"),(0,r.createElementVNode)("div",{class:"install-text"},[(0,r.createElementVNode)("h3",null,"Installer l'application"),(0,r.createElementVNode)("p",null,"Installez Business Manager sur votre appareil pour un accÃ¨s rapide !")])],-1)),(0,r.createElementVNode)("div",Wr,[(0,r.createVNode)(c,{onClick:i.dismiss,variant:"ghost",size:"sm"},{default:(0,r.withCtx)(function(){return qr(t[0]||(t[0]=[(0,r.createTextVNode)(" Plus tard ",-1)]))}),_:1},8,["onClick"]),(0,r.createVNode)(c,{onClick:i.install,size:"sm"},{default:(0,r.withCtx)(function(){return qr(t[1]||(t[1]=[(0,r.createTextVNode)(" Installer ",-1)]))}),_:1},8,["onClick"])])]}),_:1})])):(0,r.createCommentVNode)("v-if",!0)}],["__scopeId","data-v-59c25924"]]);var ea=n(4614),ta={key:0,class:"card-header"},na={class:"card-body"},ra={key:1,class:"card-footer"};const aa={name:"Card",props:{hoverable:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},padding:{type:String,default:"md",validator:function(e){return["none","sm","md","lg"].includes(e)}}},computed:{cardClasses:function(){return["card","card-padding-".concat(this.padding),{"card-hoverable":this.hoverable},{"card-bordered":this.bordered}]}}},oa=(0,_e.A)(aa,[["render",function(e,t,n,a,o,i){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(i.cardClasses)},[e.$slots.header?((0,r.openBlock)(),(0,r.createElementBlock)("div",ta,[(0,r.renderSlot)(e.$slots,"header",{},void 0,!0)])):(0,r.createCommentVNode)("v-if",!0),(0,r.createElementVNode)("div",na,[(0,r.renderSlot)(e.$slots,"default",{},void 0,!0)]),e.$slots.footer?((0,r.openBlock)(),(0,r.createElementBlock)("div",ra,[(0,r.renderSlot)(e.$slots,"footer",{},void 0,!0)])):(0,r.createCommentVNode)("v-if",!0)],2)}],["__scopeId","data-v-e2c70204"]]);var ia={class:"modal-header"},ca={class:"modal-body"},sa={key:0,class:"modal-footer"};const la={name:"Modal",props:{show:{type:Boolean,required:!0},title:{type:String,required:!0},size:{type:String,default:"md",validator:function(e){return["sm","md","lg","xl"].includes(e)}}},methods:{close:function(){this.$emit("close")}},watch:{show:function(e){document.body.style.overflow=e?"hidden":""}}},ua=(0,_e.A)(la,[["render",function(e,t,n,a,o,i){return(0,r.openBlock)(),(0,r.createBlock)(r.Transition,{name:"modal"},{default:(0,r.withCtx)(function(){return[n.show?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:t[1]||(t[1]=(0,r.withModifiers)(function(){return i.close&&i.close.apply(i,arguments)},["self"]))},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["modal-container","modal-".concat(n.size)])},[(0,r.createElementVNode)("div",ia,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(n.title),1),(0,r.createElementVNode)("button",{onClick:t[0]||(t[0]=function(){return i.close&&i.close.apply(i,arguments)}),class:"modal-close"},"âœ•")]),(0,r.createElementVNode)("div",ca,[(0,r.renderSlot)(e.$slots,"default",{},void 0,!0)]),e.$slots.footer?((0,r.openBlock)(),(0,r.createElementBlock)("div",sa,[(0,r.renderSlot)(e.$slots,"footer",{},void 0,!0)])):(0,r.createCommentVNode)("v-if",!0)],2)])):(0,r.createCommentVNode)("v-if",!0)]}),_:3})}],["__scopeId","data-v-d51b820a"]]),da=ua;const ma={name:"Badge",props:{variant:{type:String,default:"primary",validator:function(e){return["primary","success","warning","danger","info","gray"].includes(e)}},size:{type:String,default:"md",validator:function(e){return["sm","md","lg"].includes(e)}},pill:{type:Boolean,default:!1}},computed:{badgeClasses:function(){return["badge","badge-".concat(this.variant),"badge-".concat(this.size),{"badge-pill":this.pill}]}}},pa=(0,_e.A)(ma,[["render",function(e,t,n,a,o,i){return(0,r.openBlock)(),(0,r.createElementBlock)("span",{class:(0,r.normalizeClass)(i.badgeClasses)},[(0,r.renderSlot)(e.$slots,"default",{},void 0,!0)],2)}],["__scopeId","data-v-a089c7aa"]]);var fa=(0,r.createApp)(hr);fa.component("Button",ea.A),fa.component("Card",oa),fa.component("Modal",da),fa.component("Badge",pa),fa.component("EtapesKanban",Oe),fa.component("Dashboard",bt),fa.component("Calendrier",cn),fa.component("Finances",fr),fa.component("Login",gr.A),fa.component("Register",yr.A),fa.component("UserMenu",Pr),fa.component("OfflineIndicator",Ir),fa.component("BottomNav",$r),fa.component("InstallPrompt",Xr),fa.mount("#app")}},e=>{e.O(0,[346,476,70],()=>{return t=6073,e(e.s=t);var t});e.O()}]);